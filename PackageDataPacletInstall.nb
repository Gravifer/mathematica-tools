Notebook[{

Cell[CellGroupData[{
Cell["PDInstallPaclet", "CodeSection",
 CellChangeTimes->{{3.710422012837708*^9, 
  3.710422017107584*^9}},ExpressionUUID->"44dc985d-7d58-4187-b9e8-\
c1ac91e72092"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"PDInstallPaclet", "::", "usage"}], "=", "\n", "\t", 
   "\"\<Installs a paclet from a site\>\""}], ";"}]], "CodeInput",
 CellChangeTimes->{{3.710422047099622*^9, 3.710422063850913*^9}, 
   3.710426099272492*^9, 
   3.7104291105736513`*^9},ExpressionUUID->"43d3db56-9e13-4cf5-b887-\
8f62a5888358"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"Begin", "[", "\"\<`Private`\>\"", "]"}], 
  ";"}]], "InputSection",ExpressionUUID->"a1e9c4b5-c44f-4537-9d7a-\
d8dbdc163ce7"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"PDInstallPaclet", "::", "howdo"}], "=", 
   "\"\<Unsure how to pack a paclet from file type ``\>\""}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PDInstallPaclet", "::", "laywha"}], "=", 
   "\"\<Couldn't detect package layout from directory ``\>\""}], 
  ";"}]}], "CodeInput",
 CellChangeTimes->{{3.710429342321012*^9, 
  3.710429342322266*^9}},ExpressionUUID->"11976e96-1ff0-4f13-b5d0-\
cdf65d12f3a5"],

Cell[CellGroupData[{

Cell["PDpacletInfo", "Subsubsubsection",
 CellChangeTimes->{{3.699937572999563*^9, 3.699937574968251*^9}, 
   3.7027305115789537`*^9, {3.705594811172037*^9, 3.705594820072814*^9}, 
   3.7104223364737253`*^9},ExpressionUUID->"1dce3dd0-6325-42b0-91ca-\
8862cd40430d"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"PDpacletInfoAssociation", "[", 
    RowBox[{"PacletManager`Paclet", "[", "k__", "]"}], "]"}], ":=", "\n", 
   RowBox[{
    RowBox[{"With", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"o", "=", 
        RowBox[{"Options", "[", "PDpacletExpression", "]"}]}], "}"}], ",", 
      "\n", "\t", 
      RowBox[{"KeySortBy", "[", 
       RowBox[{
        RowBox[{"First", "@", 
         RowBox[{"FirstPosition", "[", 
          RowBox[{"o", ",", "#"}], "]"}]}], "&"}], "]"}]}], "\n", "\t", "]"}],
     "@", "\n", 
    RowBox[{"With", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"base", "=", "\n", "\t\t", 
        RowBox[{"KeyMap", "[", 
         RowBox[{
          RowBox[{"Replace", "[", 
           RowBox[{"s_Symbol", ":>", 
            RowBox[{"SymbolName", "[", "s", "]"}]}], "]"}], ",", 
          RowBox[{"<|", "k", "|>"}]}], "]"}]}], "\n", "\t\t", "}"}], ",", 
      "\n", "\t", 
      RowBox[{"ReplacePart", "[", 
       RowBox[{"base", ",", "\n", "\t\t", 
        RowBox[{"\"\<Extensions\>\"", "->", "\n", "\t\t", 
         RowBox[{"AssociationThread", "[", "\n", "\t\t\t", 
          RowBox[{
           RowBox[{"First", "/@", 
            RowBox[{"base", "[", "\"\<Extensions\>\"", "]"}]}], ",", "\n", 
           "\t\t\t", 
           RowBox[{
            RowBox[{"Association", "@*", "Rest"}], "/@", 
            RowBox[{"base", "[", "\"\<Extensions\>\"", "]"}]}]}], "\n", 
          "\t\t\t", "]"}]}]}], "\n", "\t\t", "]"}]}], "\n", "\t", "]"}]}]}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PDpacletInfoAssociation", "[", "infoFile_", "]"}], ":=", "\n", 
   RowBox[{"Replace", "[", 
    RowBox[{
     RowBox[{"PDpacletInfo", "[", "infoFile", "]"}], ",", 
     RowBox[{"{", "\n", "\t\t", 
      RowBox[{
       RowBox[{
        RowBox[{"p", ":", 
         RowBox[{"PacletManager`Paclet", "[", "__", "]"}]}], ":>", "\n", 
        "\t\t", 
        RowBox[{"PDpacletInfoAssociation", "@", "p"}]}], ",", "\n", "\t\t", 
       RowBox[{"_", "\[Rule]", 
        RowBox[{"<|", "|>"}]}]}], "\n", "\t\t", "}"}]}], "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PDpacletInfo", "[", "infoFile_", "]"}], ":=", "\n", 
   RowBox[{"With", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"PDpacletInfo", "=", "\n", "\t\t", 
       RowBox[{"Replace", "[", 
        RowBox[{"infoFile", ",", 
         RowBox[{"{", "\n", "\t\t\t\t", 
          RowBox[{
           RowBox[{
            RowBox[{"d", ":", 
             RowBox[{
              RowBox[{"(", 
               RowBox[{"_String", "|", "_File"}], ")"}], "?", 
              "DirectoryQ"}]}], ":>", "\n", "\t\t\t\t", 
            RowBox[{"FileNameJoin", "@", 
             RowBox[{"{", 
              RowBox[{"d", ",", "\"\<PacletInfo.m\>\""}], "}"}]}]}], ",", 
           "\n", "\t\t\t\t", 
           RowBox[{
            RowBox[{"f", ":", 
             RowBox[{
              RowBox[{"(", 
               RowBox[{"_String", "|", "_File"}], ")"}], "?", 
              RowBox[{"(", 
               RowBox[{
                RowBox[{
                 RowBox[{"FileExtension", "[", "#", "]"}], "\[Equal]", 
                 "\"\<PDpaclet\>\""}], "&"}], ")"}]}]}], ":>", "\n", 
            "\t\t\t\t", 
            RowBox[{"With", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"rd", "=", 
                RowBox[{"CreateDirectory", "[", "]"}]}], "}"}], ",", "\n", 
              "\t\t\t\t\t", 
              RowBox[{"First", "@", 
               RowBox[{"ExtractArchive", "[", 
                RowBox[{"f", ",", "rd", ",", "\"\<*PacletInfo.m\>\""}], 
                "]"}]}]}], "\n", "\t\t\t\t\t", "]"}]}]}], "\n", "\t\t\t\t", 
          "}"}]}], "]"}]}], "\n", "\t\t", "}"}], ",", "\n", "\t", 
     RowBox[{
      RowBox[{
       RowBox[{"(", 
        RowBox[{
         RowBox[{"If", "[", "\n", "\t\t\t", 
          RowBox[{
           RowBox[{
            RowBox[{"StringContainsQ", "[", "\n", "\t\t\t\t", 
             RowBox[{
              RowBox[{"Nest", "[", 
               RowBox[{"DirectoryName", ",", "PDpacletInfo", ",", "3"}], 
               "]"}], ",", "\n", "\t\t\t\t", "$TemporaryDirectory"}], "\n", 
             "\t\t\t\t", "]"}], "&&", "\n", "\t\t\t", 
            RowBox[{"(", 
             RowBox[{
              RowBox[{"StringTrim", "[", 
               RowBox[{
                RowBox[{"DirectoryName", "@", "PDpacletInfo"}], ",", 
                RowBox[{"$PathnameSeparator", "~~", "EndOfString"}]}], "]"}], 
              "!=", "\n", "\t\t\t\t", 
              RowBox[{"StringTrim", "[", "\n", "\t\t\t\t\t", 
               RowBox[{
                RowBox[{"If", "[", 
                 RowBox[{
                  RowBox[{"DirectoryQ", "@", "infoFile"}], ",", "\n", 
                  "\t\t\t\t\t\t", "infoFile", ",", "\n", "\t\t\t\t\t\t", 
                  RowBox[{"DirectoryName", "@", "infoFile"}]}], "]"}], ",", 
                "\n", "\t\t\t\t\t", 
                RowBox[{"$PathnameSeparator", "~~", "EndOfString"}]}], "\n", 
               "\t\t\t\t\t", "]"}]}], ")"}]}], ",", "\n", "\t\t\t", 
           RowBox[{"DeleteDirectory", "[", 
            RowBox[{
             RowBox[{"Nest", "[", 
              RowBox[{"DirectoryName", ",", "PDpacletInfo", ",", "2"}], "]"}],
              ",", 
             RowBox[{"DeleteContents", "\[Rule]", "True"}]}], "]"}]}], "\n", 
          "\t\t\t", "]"}], ";", "#"}], ")"}], "&"}], "@", "\n", "\t", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{"FileExistsQ", "@", "PDpacletInfo"}], ",", "\n", "\t\t", "\n",
         "\t\t", 
        RowBox[{
         RowBox[{"Begin", "[", "\"\<PacletManager`\>\"", "]"}], ";", "\n", 
         "\t\t", 
         RowBox[{
          RowBox[{
           RowBox[{"(", 
            RowBox[{
             RowBox[{"End", "[", "]"}], ";", "\n", "\t\t\t", 
             RowBox[{"Map", "[", "\n", "\t\t\t\t", 
              RowBox[{
               RowBox[{
                RowBox[{"Replace", "[", 
                 RowBox[{"#", ",", "\n", "\t\t\t\t\t", 
                  RowBox[{
                   RowBox[{"(", 
                    RowBox[{"s_Symbol", "\[Rule]", "v_"}], ")"}], ":>", "\n", 
                   "\t\t\t\t\t", 
                   RowBox[{"(", 
                    RowBox[{
                    RowBox[{"SymbolName", "[", "s", "]"}], "\[Rule]", "v"}], 
                    ")"}]}]}], "\n", "\t\t\t\t\t", "]"}], "&"}], ",", "\n", 
               "\t\t\t\t", "#"}], "]"}]}], ")"}], "&"}], "@", 
          RowBox[{"Import", "[", "PDpacletInfo", "]"}]}]}], ",", "\n", "\t\t", 
        RowBox[{"PacletManager`Paclet", "[", "]"}]}], "\n", "\t\t", "]"}]}]}],
     "\n", "\t", "]"}]}], ";"}]}], "CodeInput",
 CellChangeTimes->{{3.699937576561064*^9, 3.699937842671096*^9}, {
   3.699937980781375*^9, 3.699937981170021*^9}, {3.6999380430549593`*^9, 
   3.699938109137146*^9}, {3.6999409404964237`*^9, 3.699940944162681*^9}, {
   3.700356113008729*^9, 3.700356161020547*^9}, {3.7003563778199*^9, 
   3.700356384326764*^9}, {3.700363907511817*^9, 3.7003639180829287`*^9}, {
   3.702730389132752*^9, 3.7027304608831263`*^9}, {3.7027305189399643`*^9, 
   3.702730618184128*^9}, {3.7027308647499313`*^9, 3.702730882483536*^9}, {
   3.702731451855854*^9, 3.702731492829652*^9}, {3.7027704241645308`*^9, 
   3.702770469507577*^9}, {3.7027707198433657`*^9, 3.702770722958209*^9}, {
   3.7034688435426683`*^9, 3.703468856670109*^9}, {3.703469462143456*^9, 
   3.70346946912667*^9}, {3.7034695247867603`*^9, 3.703469589138899*^9}, {
   3.703606453538665*^9, 3.703606480277062*^9}, {3.704668580351658*^9, 
   3.704668665624916*^9}, {3.7046688430998783`*^9, 3.704668928474918*^9}, {
   3.704668990805851*^9, 3.704669023592943*^9}, {3.704669060430234*^9, 
   3.704669152129554*^9}, {3.704669222280706*^9, 3.704669275481935*^9}, {
   3.704669379542976*^9, 3.704669429734663*^9}, {3.704669461072893*^9, 
   3.704669467181246*^9}, {3.705594369386701*^9, 3.705594428441638*^9}, 
   3.705596850456167*^9, {3.710422336482489*^9, 3.710422336544141*^9}, {
   3.710427615147128*^9, 3.710427615768461*^9}, {3.710428373950049*^9, 
   3.710428395785067*^9}, 
   3.710429110633007*^9},ExpressionUUID->"632f6c1c-bf18-430c-9205-\
e0b2d54d720a"]
}, Closed]],

Cell[CellGroupData[{

Cell["PDpacletDocsInfo", "Subsubsubsection",
 CellChangeTimes->{{3.702731329446846*^9, 3.7027313313654203`*^9}, 
   3.7055944322821407`*^9, 
   3.7104223365567703`*^9},ExpressionUUID->"de64f531-053f-4f4f-b125-\
8cf016e634a3"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "PDpacletDocsInfo", "]"}], "=", 
   RowBox[{"{", "\n", "\t", 
    RowBox[{
     RowBox[{"\"\<Language\>\"", "\[Rule]", "\"\<English\>\""}], ",", "\n", 
     "\t", 
     RowBox[{"\"\<Root\>\"", "\[Rule]", "None"}], ",", "\n", "\t", 
     RowBox[{"\"\<LinkBase\>\"", "\[Rule]", "None"}], ",", "\n", "\t", 
     RowBox[{"\"\<MainPage\>\"", "\[Rule]", "None"}]}], 
    RowBox[{"(*", 
     RowBox[{",", "\n", "\t", 
      RowBox[{"\"\<Resources\>\"", "\[Rule]", "None"}]}], "*)"}], "\n", "\t", 
    "}"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PDpacletDocsInfo", "[", 
    RowBox[{"ops", ":", 
     RowBox[{"OptionsPattern", "[", "]"}]}], "]"}], ":=", "\n", 
   RowBox[{"SortBy", "[", 
    RowBox[{
     RowBox[{"DeleteCases", "[", 
      RowBox[{
       RowBox[{"DeleteDuplicatesBy", "[", 
        RowBox[{
         RowBox[{"{", "ops", "}"}], ",", "First"}], "]"}], ",", 
       RowBox[{"_", "\[Rule]", "None"}]}], "]"}], ",", "\n", "\t", 
     RowBox[{"With", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"o", "=", 
         RowBox[{"Options", "@", "PDpacletDocsInfo"}]}], "}"}], ",", 
       RowBox[{
        RowBox[{"Position", "[", 
         RowBox[{"o", ",", 
          RowBox[{"First", "@", "#"}]}], "]"}], "&"}]}], "]"}]}], "]"}]}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PDpacletDocsInfo", "[", 
    RowBox[{
     RowBox[{"dest_String", "?", "DirectoryQ"}], ",", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "]"}], ":=", "\n", 
   RowBox[{"With", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"lang", "=", "\n", "\t\t", 
       RowBox[{"FileBaseName", "@", "\n", "\t\t", 
        RowBox[{"SelectFirst", "[", "\n", "\t\t\t", 
         RowBox[{
          RowBox[{"FileNames", "[", 
           RowBox[{"\"\<*\>\"", ",", 
            RowBox[{"FileNameJoin", "@", 
             RowBox[{"{", 
              RowBox[{"dest", ",", "\"\<Documentation\>\""}], "}"}]}]}], 
           "]"}], ",", "\n", "\t\t\t", "DirectoryQ"}], "]"}]}]}], "}"}], ",", 
     "\n", "\t", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"MissingQ", "@", "lang"}], ",", "\n", "\t\t", 
       RowBox[{"{", "}"}], ",", "\n", "\t\t", 
       RowBox[{"PDpacletDocsInfo", "[", 
        RowBox[{"ops", ",", "\n", "\t\t\t", 
         RowBox[{"\"\<Language\>\"", "\[Rule]", "\n", "\t\t\t", "lang"}], ",",
          "\n", "\t\t\t", 
         RowBox[{"\"\<MainPage\>\"", "->", "\n", "\t\t\t", 
          RowBox[{"Replace", "[", "\n", "\t\t\t\t", 
           RowBox[{
            RowBox[{"Map", "[", "\n", "\t\t\t\t\t", 
             RowBox[{
              RowBox[{
               RowBox[{"FileNameTake", "[", 
                RowBox[{"#", ",", 
                 RowBox[{"-", "2"}]}], "]"}], "&"}], ",", "\n", "\t\t\t\t\t", 
              
              RowBox[{"Replace", "[", "\n", "\t\t\t\t\t\t", 
               RowBox[{
                RowBox[{"FileNames", "[", 
                 RowBox[{"\"\<*.nb\>\"", ",", "\n", "\t\t\t\t\t\t\t", 
                  RowBox[{"FileNameJoin", "@", 
                   RowBox[{"{", 
                    RowBox[{
                    "dest", ",", "\"\<Documentation\>\"", ",", "lang", ",", 
                    "\"\<Guides\>\""}], "}"}]}]}], "]"}], ",", 
                RowBox[{"{", "\n", "\t\t\t\t\t\t\t", 
                 RowBox[{
                  RowBox[{"{", "}"}], ":>", "\n", "\t\t\t\t\t\t\t", 
                  RowBox[{"FileNames", "[", 
                   RowBox[{"\"\<*.nb\>\"", ",", "\n", "\t\t\t\t\t\t\t\t", 
                    RowBox[{"FileNameJoin", "@", 
                    RowBox[{"{", 
                    RowBox[{
                    "dest", ",", "\"\<Documentation\>\"", ",", "lang"}], 
                    "}"}]}], ",", "\n", "\t\t\t\t\t\t\t\t", "2"}], "]"}]}], 
                 "\n", "\t\t\t\t\t\t\t", "}"}]}], "]"}]}], "\n", "\t\t\t\t\t",
              "]"}], ",", 
            RowBox[{"{", "\n", "\t\t\t\t\t", 
             RowBox[{
              RowBox[{
               RowBox[{"{", "}"}], "\[Rule]", "None"}], ",", "\n", 
              "\t\t\t\t\t", 
              RowBox[{
               RowBox[{"p", ":", 
                RowBox[{"{", "__", "}"}]}], ":>", "\n", "\t\t\t\t\t", 
               RowBox[{"First", "@", "\n", "\t\t\t\t\t", 
                RowBox[{"SortBy", "[", 
                 RowBox[{
                  RowBox[{"StringTrim", "[", 
                   RowBox[{"p", ",", "\"\<.nb\>\""}], "]"}], ",", "\n", 
                  "\t\t\t\t\t\t", 
                  RowBox[{
                   RowBox[{"EditDistance", "[", 
                    RowBox[{
                    RowBox[{"FileBaseName", "@", "dest"}], ",", 
                    RowBox[{"FileBaseName", "@", "#"}]}], "]"}], "&"}]}], 
                 "]"}]}]}]}], "\n", "\t\t\t\t\t", "}"}]}], "]"}]}]}], "\n", 
        "\t\t\t", "]"}]}], "\n", "\t\t", "]"}]}], "\n", "\t", "]"}]}], 
  ";"}]}], "CodeInput",
 CellChangeTimes->{{3.702731029659607*^9, 3.702731111924505*^9}, {
   3.703469785443849*^9, 3.703469821543401*^9}, {3.7034706071369047`*^9, 
   3.7034706098812037`*^9}, 3.703470702999569*^9, {3.703470733925055*^9, 
   3.703470736892271*^9}, 3.70347117860063*^9, 3.705594362952306*^9, {
   3.7055944330984907`*^9, 3.705594436529271*^9}, {3.710422336577326*^9, 
   3.710422336595326*^9}, 
   3.710429110715848*^9},ExpressionUUID->"27f16f82-a556-4c20-93a0-\
d0bd34a15ace"]
}, Closed]],

Cell[CellGroupData[{

Cell["PDpacletExtensionData", "Subsubsubsection",
 CellChangeTimes->{{3.703450897443469*^9, 3.703450900273913*^9}, 
   3.70559443824907*^9, 
   3.710422336604162*^9},ExpressionUUID->"7c793db3-3b53-46dc-a3a7-\
a21f6e26138d"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "PDpacletExtensionData", "]"}], "=", 
   RowBox[{"{", "\n", "\t", 
    RowBox[{
     RowBox[{"\"\<Documentation\>\"", "\[Rule]", "Automatic"}], ",", "\n", 
     "\t", 
     RowBox[{"\"\<Kernel\>\"", "\[Rule]", "Automatic"}], ",", "\n", "\t", 
     RowBox[{"\"\<FrontEnd\>\"", "\[Rule]", "Automatic"}], ",", "\n", "\t", 
     RowBox[{"\"\<Resource\>\"", "\[Rule]", "Automatic"}], ",", "\n", "\t", 
     RowBox[{"\"\<AutoCompletionData\>\"", "\[Rule]", "Automatic"}]}], "\n", 
    "\t", "}"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PDpacletExtensionData", "[", 
    RowBox[{"PDpacletInfo_Association", ",", "dest_", ",", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "]"}], ":=", "\n", 
   RowBox[{
    RowBox[{"Merge", "[", 
     RowBox[{"Merge", "[", "Last", "]"}], "]"}], "@", 
    RowBox[{"{", "\n", "\t", 
     RowBox[{
      RowBox[{"Replace", "[", 
       RowBox[{
        RowBox[{"Lookup", "[", 
         RowBox[{"PDpacletInfo", ",", "\"\<Extensions\>\""}], "]"}], ",", 
        "\n", "\t\t", 
        RowBox[{
         RowBox[{"Except", "[", 
          RowBox[{"_Association", "?", "AssociationQ"}], "]"}], ":>", "\n", 
         "\t\t", 
         RowBox[{"<|", "|>"}]}]}], "\n", "\t\t", "]"}], ",", "\n", "\t", 
      RowBox[{"{", "\n", "\t\t", 
       RowBox[{
        RowBox[{"Replace", "[", 
         RowBox[{
          RowBox[{"OptionValue", "[", "\"\<Documentation\>\"", "]"}], ",", 
          RowBox[{"{", "\n", "\t\t\t\t", 
           RowBox[{
            RowBox[{"Automatic", ":>", "\n", "\t\t\t\t", 
             RowBox[{"If", "[", 
              RowBox[{
               RowBox[{
                RowBox[{"Length", "@", "\n", "\t\t\t\t\t", 
                 RowBox[{"FileNames", "[", 
                  RowBox[{"\"\<*.nb\>\"", ",", "\n", "\t\t\t\t\t\t", 
                   RowBox[{"FileNameJoin", "@", 
                    RowBox[{"{", 
                    RowBox[{"dest", ",", "\"\<Documentation\>\""}], "}"}]}], 
                   ",", "\n", "\t\t\t\t\t\t", "\[Infinity]"}], "]"}]}], ">", 
                "0"}], ",", "\n", "\t\t\t\t\t", 
               RowBox[{"\"\<Documentation\>\"", "->", "\n", "\t\t\t\t\t", 
                RowBox[{"PDpacletDocsInfo", "[", "dest", "]"}]}], ",", "\n", 
               "\t\t\t\t\t", "Nothing"}], "\n", "\t\t\t\t\t", "]"}]}], ",", 
            "\n", "\t\t\t\t", 
            RowBox[{
             RowBox[{"r", ":", 
              RowBox[{"_Rule", "|", 
               RowBox[{"{", "___Rule", "}"}]}]}], ":>", "\n", "\t\t\t\t", 
             RowBox[{"\"\<Documentation\>\"", "\[Rule]", 
              RowBox[{"Association", "@", 
               RowBox[{"Flatten", "@", 
                RowBox[{"{", "r", "}"}]}]}]}]}], ",", "\n", "\t\t\t\t", 
            RowBox[{
             RowBox[{"Except", "[", "_Association", "]"}], "\[Rule]", 
             "Nothing"}]}], "\n", "\t\t\t\t", "}"}]}], "]"}], ",", "\n", 
        "\t\t", 
        RowBox[{"Replace", "[", 
         RowBox[{
          RowBox[{"OptionValue", "[", "\"\<Kernel\>\"", "]"}], ",", 
          RowBox[{"{", "\n", "\t\t\t\t", 
           RowBox[{
            RowBox[{"Automatic", ":>", "\n", "\t\t\t\t", 
             RowBox[{"\"\<Kernel\>\"", "->", "\n", "\t\t\t\t", 
              RowBox[{"<|", "\n", "\t\t\t\t", 
               RowBox[{
                RowBox[{"Root", " ", "->", " ", "\"\<.\>\""}], ",", " ", "\n",
                 "\t\t\t\t", 
                RowBox[{"Context", " ", "->", " ", 
                 RowBox[{
                  RowBox[{"FileBaseName", "@", "dest"}], "<>", 
                  "\"\<`\>\""}]}]}], "\n", "\t\t\t\t", "|>"}]}]}], ",", "\n", 
            "\t\t\t\t", 
            RowBox[{
             RowBox[{"r", ":", 
              RowBox[{"_Rule", "|", 
               RowBox[{"{", "___Rule", "}"}]}]}], ":>", "\n", "\t\t\t\t", 
             RowBox[{"\"\<Kernel\>\"", "\[Rule]", 
              RowBox[{"Association", "@", 
               RowBox[{"Flatten", "@", 
                RowBox[{"{", "r", "}"}]}]}]}]}], ",", "\n", "\t\t\t\t", 
            RowBox[{
             RowBox[{"Except", "[", "_Association", "]"}], "\[Rule]", 
             "Nothing"}]}], "\n", "\t\t\t\t", "}"}]}], "]"}], ",", "\n", 
        "\t\t", 
        RowBox[{"Replace", "[", 
         RowBox[{
          RowBox[{"OptionValue", "[", "\"\<FrontEnd\>\"", "]"}], ",", 
          RowBox[{"{", "\n", "\t\t\t\t", 
           RowBox[{
            RowBox[{"Automatic", ":>", "\n", "\t\t\t\t", 
             RowBox[{"If", "[", 
              RowBox[{
               RowBox[{
                RowBox[{"Length", "@", 
                 RowBox[{
                  RowBox[{"Select", "[", 
                   RowBox[{"Not", "@*", "DirectoryQ"}], "]"}], "@", "\n", 
                  "\t\t\t\t\t", 
                  RowBox[{"Flatten", "@", 
                   RowBox[{"Join", "[", "\n", "\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{"Map", "[", "\n", "\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"FileNames", "[", 
                    RowBox[{"\"\<*.nb\>\"", ",", "\n", "\t\t\t\t\t\t\t\t", 
                    RowBox[{"FileNameJoin", "@", 
                    RowBox[{"{", 
                    RowBox[{
                    "dest", ",", "\"\<FrontEnd\>\"", ",", 
                    "\"\<Documentation\>\"", ",", "#"}], "}"}]}], ",", "\n", 
                    "\t\t\t\t\t\t\t\t", "\[Infinity]"}], "]"}], "&"}], ",", 
                    RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "\"\<ReferencePages\>\"", ",", "\n", "\t\t\t\t\t\t\t\t", 
                    "\"\<Guides\>\"", ",", "\n", "\t\t\t\t\t\t\t\t", 
                    "\"\<Tutorials\>\""}], "\n", "\t\t\t\t\t\t\t\t", "}"}]}], 
                    "]"}], ",", "\n", "\t\t\t\t\t\t", 
                    RowBox[{"Map", "[", "\n", "\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"FileNames", "[", 
                    RowBox[{"\"\<*\>\"", ",", "\n", "\t\t\t\t\t\t\t\t", 
                    RowBox[{"FileNameJoin", "@", 
                    RowBox[{"{", 
                    RowBox[{"dest", ",", "\"\<FrontEnd\>\"", ",", "#"}], 
                    "}"}]}], ",", "\n", "\t\t\t\t\t\t\t\t", "\[Infinity]"}], 
                    "\n", "\t\t\t\t\t\t\t\t", "]"}], "&"}], ",", 
                    RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "\"\<TextResources\>\"", ",", "\n", "\t\t\t\t\t\t\t\t", 
                    "\"\<SystemResources\>\""}], "\n", "\t\t\t\t\t\t\t\t", 
                    "}"}]}], "]"}]}], "\n", "\t\t\t\t\t\t", "]"}]}]}]}], ">", 
                "0"}], ",", "\n", "\t\t\t\t\t", 
               RowBox[{"\"\<FrontEnd\>\"", "\[Rule]", "\n", "\t\t\t\t\t", 
                RowBox[{"If", "[", "\n", "\t\t\t\t\t\t", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"DirectoryQ", "@", "\n", "\t\t\t\t\t\t", 
                    RowBox[{"FileNameJoin", "@", 
                    RowBox[{"{", 
                    RowBox[{
                    "dest", ",", "\n", "\t\t\t\t\t\t\t", "\"\<FrontEnd\>\"", 
                    ",", "\n", "\t\t\t\t\t\t\t", "\"\<TextResources\>\""}], 
                    "\n", "\t\t\t\t\t\t\t", "}"}]}]}], "||", "\n", 
                   "\t\t\t\t\t\t", 
                   RowBox[{"DirectoryQ", "@", "\n", "\t\t\t\t\t\t", 
                    RowBox[{"FileNameJoin", "@", 
                    RowBox[{"{", 
                    RowBox[{
                    "dest", ",", "\n", "\t\t\t\t\t\t\t", "\"\<FrontEnd\>\"", 
                    ",", "\n", "\t\t\t\t\t\t\t", "\"\<SystemResources\>\""}], 
                    "\n", "\t\t\t\t\t\t\t", "}"}]}]}]}], ",", "\n", 
                  "\t\t\t\t\t\t", 
                  RowBox[{"<|", 
                   RowBox[{"Prepend", "\[Rule]", "True"}], "|>"}], ",", "\n", 
                  "\t\t\t\t\t\t", 
                  RowBox[{"<|", "|>"}]}], "\n", "\t\t\t\t\t\t", "]"}]}], ",", 
               "\n", "\t\t\t\t\t", "Nothing"}], "\n", "\t\t\t\t\t", "]"}]}], 
            ",", "\n", "\t\t\t\t", 
            RowBox[{
             RowBox[{"r", ":", 
              RowBox[{"_Rule", "|", 
               RowBox[{"{", "___Rule", "}"}]}]}], ":>", "\n", "\t\t\t\t", 
             RowBox[{"\"\<FrontEnd\>\"", "\[Rule]", 
              RowBox[{"Association", "@", 
               RowBox[{"Flatten", "@", 
                RowBox[{"{", "r", "}"}]}]}]}]}], ",", "\n", "\t\t\t\t", 
            RowBox[{
             RowBox[{"Except", "[", "_Association", "]"}], "\[Rule]", 
             "Nothing"}]}], "\n", "\t\t\t\t", "}"}]}], "]"}], ",", "\n", 
        "\t\t", 
        RowBox[{"Replace", "[", 
         RowBox[{
          RowBox[{"OptionValue", "[", "\"\<Resource\>\"", "]"}], ",", 
          RowBox[{"{", "\n", "\t\t\t\t", 
           RowBox[{
            RowBox[{"Automatic", ":>", "\n", "\t\t\t\t", 
             RowBox[{"If", "[", 
              RowBox[{
               RowBox[{
                RowBox[{"Length", "@", "\n", "\t\t\t\t\t", 
                 RowBox[{"Select", "[", "\n", "\t\t\t\t\t\t", 
                  RowBox[{
                   RowBox[{"FileNames", "[", 
                    RowBox[{"\"\<*\>\"", ",", "\n", "\t\t\t\t\t\t\t", 
                    RowBox[{"FileNameJoin", "@", 
                    RowBox[{"{", 
                    RowBox[{"dest", ",", "\"\<Data\>\""}], "}"}]}], ",", "\n",
                     "\t\t\t\t\t\t\t", "\[Infinity]"}], "]"}], ",", "\n", 
                   "\t\t\t\t\t\t", 
                   RowBox[{
                    RowBox[{
                    RowBox[{"Not", "@", 
                    RowBox[{"DirectoryQ", "@", "#"}]}], "&&", "\n", 
                    "\t\t\t\t\t\t", 
                    RowBox[{"Not", "@", 
                    RowBox[{"StringMatchQ", "[", 
                    RowBox[{
                    RowBox[{"FileNameTake", "@", "#"}], ",", 
                    "\"\<.DS_Store\>\""}], "]"}]}]}], "&"}]}], "\n", 
                  "\t\t\t\t\t\t", "]"}]}], ">", "0"}], ",", "\n", 
               "\t\t\t\t\t", 
               RowBox[{"\"\<Resource\>\"", "->", "\n", "\t\t\t\t\t", 
                RowBox[{"<|", "\n", "\t\t\t\t\t", 
                 RowBox[{
                  RowBox[{"\"\<Root\>\"", " ", "->", " ", "\"\<Data\>\""}], 
                  ",", "\n", "\t\t\t\t\t", 
                  RowBox[{
                  "\"\<Resources\>\"", " ", "->", " ", "\n", "\t\t\t\t\t", 
                   RowBox[{"Map", "[", "\n", "\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"FileNameDrop", "[", 
                    RowBox[{"#", ",", "\n", "\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{"FileNameDepth", "[", "dest", "]"}], "+", "1"}]}],
                     "\n", "\t\t\t\t\t\t\t", "]"}], "&"}], ",", "\n", 
                    "\t\t\t\t\t\t", 
                    RowBox[{"Select", "[", "\n", "\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{"FileNames", "[", 
                    RowBox[{"\"\<*\>\"", ",", "\n", "\t\t\t\t\t\t\t\t", 
                    RowBox[{"FileNameJoin", "@", 
                    RowBox[{"{", 
                    RowBox[{"dest", ",", "\"\<Data\>\""}], "}"}]}], ",", "\n",
                     "\t\t\t\t\t\t\t\t", "\[Infinity]"}], "]"}], ",", "\n", 
                    "\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"Not", "@", 
                    RowBox[{"DirectoryQ", "@", "#"}]}], "&&", "\n", 
                    "\t\t\t\t\t\t\t", 
                    RowBox[{"Not", "@", 
                    RowBox[{"StringMatchQ", "[", 
                    RowBox[{
                    RowBox[{"FileNameTake", "@", "#"}], ",", 
                    "\"\<.DS_Store\>\""}], "]"}]}]}], "&"}]}], "\n", 
                    "\t\t\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t\t\t", 
                    "]"}]}]}], "\n", "\t\t\t\t\t", "|>"}]}], ",", "\n", 
               "\t\t\t\t\t", "Nothing"}], "\n", "\t\t\t\t\t", "]"}]}], ",", 
            "\n", "\t\t\t\t", 
            RowBox[{
             RowBox[{"r", ":", 
              RowBox[{"_Rule", "|", 
               RowBox[{"{", "___Rule", "}"}]}]}], ":>", "\n", "\t\t\t\t", 
             RowBox[{"\"\<Resource\>\"", "\[Rule]", 
              RowBox[{"Association", "@", 
               RowBox[{"Flatten", "@", 
                RowBox[{"{", "r", "}"}]}]}]}]}], ",", "\n", "\t\t\t\t", 
            RowBox[{
             RowBox[{"Except", "[", "_Association", "]"}], "\[Rule]", 
             "Nothing"}]}], "\n", "\t\t\t\t", "}"}]}], "]"}], ",", "\n", 
        "\t\t", 
        RowBox[{"Replace", "[", 
         RowBox[{
          RowBox[{"OptionValue", "[", "\"\<AutoCompletionData\>\"", "]"}], 
          ",", 
          RowBox[{"{", "\n", "\t\t\t\t", 
           RowBox[{
            RowBox[{"Automatic", ":>", "\n", "\t\t\t\t", 
             RowBox[{"If", "[", 
              RowBox[{
               RowBox[{
                RowBox[{"Length", "@", "\n", "\t\t\t\t\t", 
                 RowBox[{"FileNames", "[", 
                  RowBox[{
                   RowBox[{
                   "\"\<*.tr\>\"", "|", "\"\<documentedContexts.m\>\""}], ",",
                    "\n", "\t\t\t\t\t\t", 
                   RowBox[{"FileNameJoin", "@", 
                    RowBox[{"{", 
                    RowBox[{"dest", ",", "\"\<AutoCompletionData\>\""}], 
                    "}"}]}], ",", "\n", "\t\t\t\t\t\t", "\[Infinity]"}], 
                  "]"}]}], ">", "0"}], ",", "\n", "\t\t\t\t\t", 
               RowBox[{"\"\<AutoCompletionData\>\"", "->", "\n", "\t\t\t\t\t", 
                RowBox[{"<|", "\n", "\t\t\t\t\t", 
                 RowBox[{
                 "\"\<Root\>\"", " ", "->", " ", 
                  "\"\<AutoCompletionData\>\""}], "\n", "\t\t\t\t\t", 
                 "|>"}]}], ",", "\n", "\t\t\t\t\t", "Nothing"}], "\n", 
              "\t\t\t\t\t", "]"}]}], ",", "\n", "\t\t\t\t", 
            RowBox[{
             RowBox[{"r", ":", 
              RowBox[{"_Rule", "|", 
               RowBox[{"{", "___Rule", "}"}]}]}], ":>", "\n", "\t\t\t\t", 
             RowBox[{"\"\<Documentation\>\"", "\[Rule]", 
              RowBox[{"Association", "@", 
               RowBox[{"Flatten", "@", 
                RowBox[{"{", "r", "}"}]}]}]}]}], ",", "\n", "\t\t\t\t", 
            RowBox[{
             RowBox[{"Except", "[", "_Association", "]"}], "\[Rule]", 
             "Nothing"}]}], "\n", "\t\t\t\t", "}"}]}], "]"}]}], "\n", "\t\t", 
       "}"}]}], "\n", "\t", "}"}]}]}], ";"}]}], "CodeInput",
 CellChangeTimes->{{3.703450904465002*^9, 3.70345097650543*^9}, {
   3.7034510552736397`*^9, 3.703451060631516*^9}, {3.703451185218995*^9, 
   3.7034511876643963`*^9}, {3.703467950958033*^9, 3.703468104304346*^9}, {
   3.703468272011835*^9, 3.703468386173727*^9}, {3.703468417997353*^9, 
   3.703468580809701*^9}, {3.7034686316810617`*^9, 3.703468636719306*^9}, 
   3.703468672649283*^9, {3.7034687085833483`*^9, 3.703468745774809*^9}, {
   3.703469424284089*^9, 3.703469425898272*^9}, {3.703469975371531*^9, 
   3.7034699887334843`*^9}, {3.703470770623753*^9, 3.703470783145918*^9}, {
   3.703470868140491*^9, 3.703470922866765*^9}, {3.703470960273962*^9, 
   3.703470968767466*^9}, {3.703471111771553*^9, 3.703471119079247*^9}, {
   3.703471198477932*^9, 3.703471202875317*^9}, {3.7034713957096863`*^9, 
   3.703471399970703*^9}, {3.703471454042104*^9, 3.7034714789845963`*^9}, {
   3.703799347881113*^9, 3.703799415700016*^9}, {3.7038718518760023`*^9, 
   3.703871884104478*^9}, {3.7038719933854723`*^9, 3.7038720587580214`*^9}, {
   3.703872187593163*^9, 3.70387218773909*^9}, 3.703872688859228*^9, {
   3.70387332106469*^9, 3.703873333021936*^9}, {3.704933002327221*^9, 
   3.704933070565832*^9}, {3.7049331540731983`*^9, 3.7049332110251923`*^9}, {
   3.7049332789253597`*^9, 3.704933301238986*^9}, {3.7049338174070873`*^9, 
   3.7049338182133007`*^9}, {3.704933864349413*^9, 3.704933936307232*^9}, {
   3.704934803907208*^9, 3.704934804071639*^9}, 3.705594356008121*^9, {
   3.705594438797793*^9, 3.7055944413256617`*^9}, {3.710422336629513*^9, 
   3.710422336659424*^9}, 
   3.710429110826561*^9},ExpressionUUID->"91a7dcc1-5425-42fe-b18f-\
99e6e28d72e2"]
}, Closed]],

Cell[CellGroupData[{

Cell["PDpacletExpression", "Subsubsubsection",
 CellChangeTimes->{{3.69993520784684*^9, 3.699935209336134*^9}, 
   3.7027313408184547`*^9, 3.705594442520713*^9, 
   3.71042233666893*^9},ExpressionUUID->"13f75305-f7f0-4876-b9c2-\
4ec3fbc25d95"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "PDpacletExpression", "]"}], "=", "\n", 
   RowBox[{"Join", "[", "\n", "\t", 
    RowBox[{
     RowBox[{"{", "\n", "\t\t", 
      RowBox[{
       RowBox[{"\"\<Name\>\"", "\[Rule]", "\"\<MyPaclet\>\""}], ",", "\n", 
       "\t\t", 
       RowBox[{"\"\<Version\>\"", "\[Rule]", "Automatic"}], ",", "\n", "\t\t", 
       RowBox[{"\"\<Creator\>\"", "\[Rule]", "Automatic"}], ",", "\n", "\t\t", 
       RowBox[{"\"\<Description\>\"", "\[Rule]", "Automatic"}], ",", "\n", 
       "\t\t", 
       RowBox[{"\"\<Root\>\"", "\[Rule]", "Automatic"}], ",", "\n", "\t\t", 
       RowBox[{"\"\<WolframVersion\>\"", "\[Rule]", "Automatic"}], ",", "\n", 
       "\t\t", 
       RowBox[{"\"\<Internal\>\"", "\[Rule]", "Automatic"}], ",", "\n", 
       "\t\t", 
       RowBox[{"\"\<Loading\>\"", "\[Rule]", "Automatic"}], ",", "\n", "\t\t", 
       RowBox[{"\"\<Qualifier\>\"", "\[Rule]", "Automatic"}], ",", "\n", 
       "\t\t", 
       RowBox[{"\"\<BuildNumber\>\"", "\[Rule]", "Automatic"}], ",", "\n", 
       "\t\t", 
       RowBox[{"\"\<Extensions\>\"", "\[Rule]", "Automatic"}]}], "\n", "\t\t",
       "}"}], ",", "\n", "\t", 
     RowBox[{"Options", "@", "PDpacletExtensionData"}]}], "\n", "\t", "]"}]}],
   ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PDpacletExpression", "[", 
    RowBox[{"ops", ":", 
     RowBox[{"OptionsPattern", "[", "]"}]}], "]"}], ":=", "\n", 
   RowBox[{"PacletManager`Paclet", "@@", "\n", 
    RowBox[{"SortBy", "[", 
     RowBox[{
      RowBox[{"DeleteCases", "[", 
       RowBox[{
        RowBox[{"DeleteDuplicatesBy", "[", 
         RowBox[{
          RowBox[{"{", "ops", "}"}], ",", "First"}], "]"}], ",", 
        RowBox[{"_", "\[Rule]", "None"}]}], "]"}], ",", "\n", "\t", 
      RowBox[{"With", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"o", "=", 
          RowBox[{"Options", "@", "PDpacletExpression"}]}], "}"}], ",", 
        RowBox[{
         RowBox[{"Position", "[", 
          RowBox[{"o", ",", 
           RowBox[{"First", "@", "#"}]}], "]"}], "&"}]}], "]"}]}], "\n", "\t",
      "]"}]}]}], ";"}]}], "CodeInput",
 CellChangeTimes->{{3.69993521029556*^9, 3.69993525248245*^9}, {
   3.699935289370064*^9, 3.699935381071134*^9}, {3.699935450310876*^9, 
   3.69993562813696*^9}, 3.6999361433766537`*^9, 3.699936323687511*^9, {
   3.6999389750574093`*^9, 3.699938977865988*^9}, {3.699939029369296*^9, 
   3.69993904181254*^9}, {3.699939834537401*^9, 3.699939845927816*^9}, {
   3.699939888960884*^9, 3.699939960582406*^9}, {3.6999400425509977`*^9, 
   3.699940042703384*^9}, 3.699940155389453*^9, 3.699940191517207*^9, 
   3.699940223544446*^9, 3.699940281481804*^9, {3.699940319410574*^9, 
   3.6999403200641203`*^9}, {3.699940376375204*^9, 3.699940378211637*^9}, {
   3.700342448432473*^9, 3.7003424856821003`*^9}, {3.7003425189641943`*^9, 
   3.700342582622477*^9}, {3.700342716065605*^9, 3.700342826784768*^9}, {
   3.7003431997376623`*^9, 3.700343285218247*^9}, {3.700343320584908*^9, 
   3.7003433691661377`*^9}, {3.70034340956074*^9, 3.700343448547907*^9}, {
   3.700343492274815*^9, 3.7003435531265697`*^9}, {3.700354523789888*^9, 
   3.700354676681443*^9}, {3.700354738768631*^9, 3.700354799090105*^9}, {
   3.700354885400064*^9, 3.700354888183856*^9}, {3.7003550970785837`*^9, 
   3.7003550989659557`*^9}, {3.70035514725167*^9, 3.700355148578209*^9}, {
   3.7003562065591793`*^9, 3.7003562071048203`*^9}, {3.700356244561697*^9, 
   3.700356320069002*^9}, {3.702730738657734*^9, 3.702730760023446*^9}, {
   3.702730797715949*^9, 3.702730855278475*^9}, {3.702730898445737*^9, 
   3.702730917164303*^9}, {3.7027316297105494`*^9, 3.702731633762151*^9}, {
   3.7028416767176037`*^9, 3.7028416813158703`*^9}, {3.703446464012766*^9, 
   3.7034464691996603`*^9}, {3.7034465186977863`*^9, 3.703446582941861*^9}, {
   3.70344666388721*^9, 3.703446665035096*^9}, {3.70345106791057*^9, 
   3.703451083764427*^9}, {3.703470797442131*^9, 3.7034708197245293`*^9}, {
   3.705594341150548*^9, 3.705594344758917*^9}, {3.705594443050112*^9, 
   3.705594449999565*^9}, {3.710422336681469*^9, 3.710422336696206*^9}, {
   3.7104283740101852`*^9, 3.710428395793686*^9}, 
   3.710429110929728*^9},ExpressionUUID->"349d4afd-85f1-403a-9ef4-\
65e4abc16de5"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"PDpacletExpression", "[", "\n", "\t", 
    RowBox[{
     RowBox[{"dest_String", "?", "DirectoryQ"}], ",", "\n", "\t", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "]"}], ":=", "\n", 
   RowBox[{"With", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"PDpacletInfo", "=", 
       RowBox[{"PDpacletInfoAssociation", "[", "dest", "]"}]}], "}"}], ",", 
     "\n", "\t", 
     RowBox[{"PDpacletExpression", "[", "\n", "\t\t", 
      RowBox[{
       RowBox[{"Sequence", "@@", 
        RowBox[{"FilterRules", "[", 
         RowBox[{
          RowBox[{"{", "ops", "}"}], ",", "\n", "\t\t\t", 
          RowBox[{"Except", "[", 
           RowBox[{
           "\"\<Kernel\>\"", "|", "\"\<Documentation\>\"", "|", 
            "\"\<Extensions\>\"", "|", "\"\<FrontEnd\>\""}], "]"}]}], "]"}]}],
        ",", "\n", "\t\t", 
       RowBox[{"\"\<Name\>\"", "\[Rule]", 
        RowBox[{"FileBaseName", "@", "dest"}]}], ",", "\n", "\t\t", 
       RowBox[{"\"\<Extensions\>\"", "->", "\n", "\t\t", 
        RowBox[{"Replace", "[", 
         RowBox[{
          RowBox[{"OptionValue", "[", "\"\<Extensions\>\"", "]"}], ",", 
          RowBox[{"{", "\n", "\t\t\t\t", 
           RowBox[{
            RowBox[{"Automatic", ":>", "\n", "\t\t\t\t", 
             RowBox[{"KeyValueMap", "[", 
              RowBox[{
               RowBox[{
                RowBox[{"Prepend", "[", 
                 RowBox[{
                  RowBox[{"Normal", "@", "#2"}], ",", "#"}], "]"}], "&"}], 
               ",", "\n", "\t\t\t\t\t", 
               RowBox[{"PDpacletExtensionData", "[", 
                RowBox[{
                "PDpacletInfo", ",", "\n", "\t\t\t\t\t\t", "dest", ",", "\n", 
                 "\t\t\t\t\t\t", 
                 RowBox[{"FilterRules", "[", 
                  RowBox[{
                   RowBox[{"{", "ops", "}"}], ",", "\n", "\t\t\t\t\t\t\t", 
                   RowBox[{"Options", "@", "PDpacletExtensionData"}]}], "\n", 
                  "\t\t\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t\t\t", "]"}]}], 
              "\n", "\t\t\t\t\t", "]"}]}], ",", "\n", "\t\t\t\t", 
            RowBox[{
             RowBox[{"Except", "[", "_List", "]"}], ":>", "\n", "\t\t\t\t", 
             RowBox[{"With", "[", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{"baseData", "=", "\n", "\t\t\t\t\t\t", 
                 RowBox[{"PDpacletExtensionData", "[", 
                  RowBox[{
                  "PDpacletInfo", ",", "\n", "\t\t\t\t\t\t\t", "dest", ",", 
                   "\n", "\t\t\t\t\t\t\t", 
                   RowBox[{"FilterRules", "[", 
                    RowBox[{
                    RowBox[{"{", "ops", "}"}], ",", "\n", "\t\t\t\t\t\t\t\t", 
                    
                    RowBox[{"Options", "@", "PDpacletExtensionData"}]}], "\n",
                     "\t\t\t\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t\t\t\t", 
                  "]"}]}], "}"}], ",", "\n", "\t\t\t\t\t", 
               RowBox[{"Map", "[", "\n", "\t\t\t\t\t\t", 
                RowBox[{
                 RowBox[{
                  RowBox[{"Replace", "[", 
                   RowBox[{
                    RowBox[{"OptionValue", "[", "#", "]"}], ",", 
                    RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{"Automatic", ":>", "\n", "\t\t\t\t\t\t\t\t", 
                    RowBox[{"Replace", "[", 
                    RowBox[{
                    RowBox[{"Lookup", "[", 
                    RowBox[{"baseData", ",", "#"}], "]"}], ",", 
                    RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{
                    "a_Association", ":>", "\n", "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"Flatten", "@", 
                    RowBox[{"{", 
                    RowBox[{"#", ",", 
                    RowBox[{"Normal", "@", "a"}]}], "}"}]}]}], ",", "\n", 
                    "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"_", "\[Rule]", "Nothing"}]}], "\n", 
                    "\t\t\t\t\t\t\t\t\t\t", "}"}]}], "]"}]}], ",", "\n", 
                    "\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{"r", ":", 
                    RowBox[{"_Rule", "|", 
                    RowBox[{"{", "___Rule", "}"}], "|", "_Association"}]}], ":>",
                     "\n", "\t\t\t\t\t\t\t\t", 
                    RowBox[{"Flatten", "@", 
                    RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"#", ",", "\n", "\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"Normal", "@", "r"}]}], "\n", 
                    "\t\t\t\t\t\t\t\t\t", "}"}]}]}], ",", "\n", 
                    "\t\t\t\t\t\t\t\t", 
                    RowBox[{"_", "\[Rule]", "Nothing"}]}], "\n", 
                    "\t\t\t\t\t\t\t\t", "}"}]}], "]"}], "&"}], ",", "\n", 
                 "\t\t\t\t\t\t", 
                 RowBox[{"Keys", "@", 
                  RowBox[{"Options", "[", "PDpacletExtensionData", "]"}]}]}], 
                "\n", "\t\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t\t", "]"}]}]}], 
           "\n", "\t\t\t\t", "}"}]}], "]"}]}], ",", "\n", "\t\t", 
       RowBox[{"\"\<Version\>\"", "->", "\n", "\t\t", 
        RowBox[{"Replace", "[", 
         RowBox[{
          RowBox[{"OptionValue", "@", "\"\<Version\>\""}], ",", "\n", 
          "\t\t\t", 
          RowBox[{"Automatic", ":>", "\n", "\t\t\t", 
           RowBox[{"With", "[", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{"pointVersions", "=", "\n", "\t\t\t\t\t", 
               RowBox[{"StringSplit", "[", "\n", "\t\t\t\t\t\t", 
                RowBox[{
                 RowBox[{"ToString", "[", 
                  RowBox[{"Lookup", "[", 
                   RowBox[{
                   "PDpacletInfo", ",", "\"\<Version\>\"", ",", 
                    "\"\<1.0.-1\>\""}], "]"}], "]"}], ",", "\n", 
                 "\t\t\t\t\t\t", "\"\<.\>\""}], "\n", "\t\t\t\t\t\t", "]"}]}],
               "\n", "\t\t\t\t\t", "}"}], ",", "\n", "\t\t\t\t", 
             RowBox[{"StringJoin", "@", 
              RowBox[{"Riffle", "[", "\n", "\t\t\t\t\t", 
               RowBox[{
                RowBox[{"If", "[", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"Length", "@", "pointVersions"}], ">", "1"}], ",", 
                  "\n", "\t\t\t\t\t\t", 
                  RowBox[{"Append", "[", 
                   RowBox[{
                    RowBox[{"Most", "@", "pointVersions"}], ",", "\n", 
                    "\t\t\t\t\t\t\t", 
                    RowBox[{"ToString", "[", 
                    RowBox[{
                    RowBox[{"ToExpression", "[", 
                    RowBox[{"Last", "@", "pointVersions"}], "]"}], "+", "1"}],
                     "]"}]}], "\n", "\t\t\t\t\t\t\t", "]"}], ",", "\n", 
                  "\t\t\t\t\t\t", 
                  RowBox[{"{", 
                   RowBox[{"pointVersions", ",", "\"\<1\>\""}], "}"}]}], 
                 "]"}], ",", "\n", "\t\t\t\t\t", "\"\<.\>\""}], "]"}]}]}], 
            "\n", "\t\t\t\t", "]"}]}]}], "\n", "\t\t\t", "]"}]}], ",", "\n", 
       "\t\t", 
       RowBox[{"Sequence", "@@", 
        RowBox[{"Normal", "@", "PDpacletInfo"}]}]}], "\n", "\t\t", "]"}]}], 
    "\n", "\t", "]"}]}], ";"}]], "CodeInput",
 CellChangeTimes->{{3.69993521029556*^9, 3.69993525248245*^9}, {
   3.699935289370064*^9, 3.699935381071134*^9}, {3.699935450310876*^9, 
   3.69993562813696*^9}, 3.6999361433766537`*^9, 3.699936323687511*^9, {
   3.6999389750574093`*^9, 3.699938977865988*^9}, {3.699939029369296*^9, 
   3.69993904181254*^9}, {3.699939834537401*^9, 3.699939845927816*^9}, {
   3.699939888960884*^9, 3.699939960582406*^9}, {3.6999400425509977`*^9, 
   3.699940042703384*^9}, 3.699940155389453*^9, 3.699940191517207*^9, 
   3.699940223544446*^9, 3.699940281481804*^9, {3.699940319410574*^9, 
   3.6999403200641203`*^9}, {3.699940376375204*^9, 3.699940378211637*^9}, {
   3.700342448432473*^9, 3.7003424856821003`*^9}, {3.7003425189641943`*^9, 
   3.700342582622477*^9}, {3.700342716065605*^9, 3.700342826784768*^9}, {
   3.7003431997376623`*^9, 3.700343285218247*^9}, {3.700343320584908*^9, 
   3.7003433691661377`*^9}, {3.70034340956074*^9, 3.700343448547907*^9}, {
   3.700343492274815*^9, 3.7003435531265697`*^9}, {3.700354523789888*^9, 
   3.700354676681443*^9}, {3.700354738768631*^9, 3.700354799090105*^9}, {
   3.700354885400064*^9, 3.700354888183856*^9}, {3.7003550970785837`*^9, 
   3.7003550989659557`*^9}, {3.70035514725167*^9, 3.700355148578209*^9}, {
   3.7003562065591793`*^9, 3.7003562071048203`*^9}, {3.700356244561697*^9, 
   3.700356320069002*^9}, {3.702730738657734*^9, 3.702730760023446*^9}, {
   3.702730797715949*^9, 3.702730855278475*^9}, {3.702730898445737*^9, 
   3.7027309675980988`*^9}, {3.702731186079154*^9, 3.702731221436178*^9}, {
   3.702731635829357*^9, 3.702731656083393*^9}, {3.702840803864994*^9, 
   3.702840972476619*^9}, {3.702841542874977*^9, 3.702841626337743*^9}, {
   3.7028417233659267`*^9, 3.702841766911294*^9}, {3.703446591785573*^9, 
   3.703446618023468*^9}, {3.703450784429833*^9, 3.7034508589522123`*^9}, 
   3.703450892587578*^9, {3.7034509872200813`*^9, 3.7034510459148493`*^9}, {
   3.703451088777977*^9, 3.70345117532248*^9}, {3.703451208189828*^9, 
   3.703451254552269*^9}, {3.703467858443678*^9, 3.703467879229782*^9}, 
   3.7034686037111673`*^9, {3.703470145353877*^9, 3.703470408158183*^9}, {
   3.703470501133217*^9, 3.7034705220476*^9}, {3.703766844133236*^9, 
   3.7037668546208687`*^9}, 3.705177422908684*^9, {3.705594324267028*^9, 
   3.705594337555359*^9}, {3.7055944511414347`*^9, 3.705594457333202*^9}, {
   3.710422336710122*^9, 3.7104223367750883`*^9}, 
   3.710429111019133*^9},ExpressionUUID->"8f3ca742-c9e0-4f10-aa7d-\
26ef8966a050"]
}, Closed]],

Cell[CellGroupData[{

Cell["PDpacletExpressionBundle", "Subsubsubsection",
 CellChangeTimes->{{3.702731569451943*^9, 3.702731570815073*^9}, 
   3.7055944583633623`*^9, 
   3.7104223367865868`*^9},ExpressionUUID->"7bf5ed8b-7b4a-4e50-a110-\
2b9b42115eab"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "PDpacletExpressionBundle", "]"}], "=", "\n", 
   RowBox[{"Options", "[", "PDpacletExpression", "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PDpacletExpressionBundle", "[", "\n", "\t", 
    RowBox[{"paclet_PacletManager`Paclet", ",", "\n", "\t", 
     RowBox[{"dest_String", "?", "DirectoryQ"}]}], "]"}], ":=", "\n", 
   RowBox[{"With", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"pacletFile", "=", 
       RowBox[{"FileNameJoin", "@", 
        RowBox[{"{", 
         RowBox[{"dest", ",", "\"\<PacletInfo.m\>\""}], "}"}]}]}], "}"}], ",",
      "\n", "\t", 
     RowBox[{
      RowBox[{"Begin", "[", "\"\<PacletManager`\>\"", "]"}], ";", "\n", "\t", 
      
      RowBox[{"Block", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"$ContextPath", "=", 
          RowBox[{"{", 
           RowBox[{"\"\<System`\>\"", ",", "\"\<PacletManager`\>\""}], 
           "}"}]}], "}"}], ",", "\n", "\t\t", 
        RowBox[{"With", "[", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"pac", "=", "\n", "\t\t\t\t", 
            RowBox[{"Replace", "[", 
             RowBox[{"paclet", ",", "\n", "\t\t\t\t\t", 
              RowBox[{
               RowBox[{"(", 
                RowBox[{"n_", "\[Rule]", "v_"}], ")"}], "\[RuleDelayed]", 
               RowBox[{"(", 
                RowBox[{
                 RowBox[{"ToExpression", "[", "n", "]"}], "\[Rule]", "v"}], 
                ")"}]}], ",", "\n", "\t\t\t\t\t", "1"}], "]"}]}], "}"}], ",", 
          "\n", "\t\t\t", 
          RowBox[{"Export", "[", 
           RowBox[{"pacletFile", ",", "pac"}], "]"}]}], "\n", "\t\t\t", 
         "]"}]}], "\n", "\t\t", "]"}], ";", "\n", "\t", 
      RowBox[{"End", "[", "]"}], ";", "\n", "\t", "PDpacletFile"}]}], "\n", 
    "\t", "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PDpacletExpressionBundle", "[", "\n", "\t", 
    RowBox[{
     RowBox[{"dest_String", "?", "DirectoryQ"}], ",", "\n", "\t", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "\n", "\t", "]"}], ":=", "\n", 
   RowBox[{"PDpacletExpressionBundle", "[", "\n", "\t", 
    RowBox[{
     RowBox[{"PDpacletExpression", "[", 
      RowBox[{"dest", ",", "ops"}], "]"}], ",", "\n", "\t", "dest"}], "\n", 
    "\t", "]"}]}], ";"}]}], "CodeInput",
 CellChangeTimes->{{3.702731572068799*^9, 3.7027316164333887`*^9}, {
   3.7027316645185537`*^9, 3.702731757721492*^9}, {3.702731806244506*^9, 
   3.7027318527442493`*^9}, {3.703467777153942*^9, 3.703467846492382*^9}, {
   3.7034692772385693`*^9, 3.703469279796817*^9}, {3.704482488945374*^9, 
   3.7044824912550087`*^9}, {3.704482575132791*^9, 3.704482579345921*^9}, 
   3.705177422918612*^9, {3.705594307945446*^9, 3.7055943160676126`*^9}, {
   3.705594458775401*^9, 3.705594470346282*^9}, {3.71042233679979*^9, 
   3.7104223368563557`*^9}, {3.7104276252455263`*^9, 
   3.7104276252508307`*^9}, {3.710428374034554*^9, 3.710428395801655*^9}, {
   3.710428451750381*^9, 3.7104284640309362`*^9}, 3.710428699241617*^9, 
   3.710429111090333*^9},ExpressionUUID->"d5b733b8-6556-4ed4-8944-\
a5769373b93a"]
}, Closed]],

Cell[CellGroupData[{

Cell["PDpacletLookup", "Subsubsubsection",
 CellChangeTimes->{{3.703956038411504*^9, 3.7039560411305857`*^9}, 
   3.7055944715195837`*^9, 
   3.710422336869114*^9},ExpressionUUID->"8070a4b8-8aa3-4798-9151-\
d1c0211b842c"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"PDpacletLookup", "[", 
    RowBox[{
     RowBox[{"p", ":", 
      RowBox[{"{", "__PacletManager`Paclet", "}"}]}], ",", "props_"}], "]"}], 
   ":=", "\n", 
   RowBox[{"Lookup", "[", 
    RowBox[{
     RowBox[{"PacletManager`PacletInformation", "/@", "p"}], ",", "props"}], 
    "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PDpacletLookup", "[", 
    RowBox[{"p_PacletManager`Paclet", ",", "props_"}], "]"}], ":=", "\n", 
   RowBox[{"Lookup", "[", 
    RowBox[{
     RowBox[{"PacletManager`PacletInformation", "@", "p"}], ",", "props"}], 
    "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PDpacletLookup", "[", 
    RowBox[{
     RowBox[{"p", ":", 
      RowBox[{"_String", "|", 
       RowBox[{"{", 
        RowBox[{"_String", ",", "_String"}], "}"}]}]}], ",", "props_"}], 
    "]"}], ":=", "\n", 
   RowBox[{"PDpacletLookup", "[", 
    RowBox[{
     RowBox[{"PacletManager`PacletFind", "[", "p", "]"}], ",", "props"}], 
    "]"}]}], ";"}]}], "CodeInput",
 CellChangeTimes->{{3.703956045980041*^9, 3.703956158947846*^9}, 
   3.703956303628257*^9, 3.705594298525673*^9, {3.705594472592491*^9, 
   3.7055944855235987`*^9}, {3.7104223368812647`*^9, 
   3.7104223368910418`*^9}, {3.710428374058825*^9, 3.710428395824808*^9}, 
   3.7104291111334047`*^9},ExpressionUUID->"4b891d8e-a075-4f65-8e65-\
726b962b8831"]
}, Closed]],

Cell[CellGroupData[{

Cell["PDpacletOpen", "Subsubsubsection",
 CellChangeTimes->{3.7039559965225763`*^9, 3.705594488653529*^9, 
  3.7104223369031897`*^9},ExpressionUUID->"98c37476-20bb-4d2d-acff-\
578beca9dd7d"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"PDpacletOpen", "[", 
    RowBox[{"p_", ",", 
     RowBox[{"which", ":", "_", ":", "First"}]}], "]"}], ":=", "\n", 
   RowBox[{"With", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"locs", "=", 
       RowBox[{"PDpacletLookup", "[", 
        RowBox[{"p", ",", "\"\<Location\>\""}], "]"}]}], "}"}], ",", "\n", 
     "\t", 
     RowBox[{
      RowBox[{"With", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"files", "=", "\n", "\t\t\t", 
          RowBox[{"Flatten", "@", 
           RowBox[{"{", "\n", "\t\t\t\t", 
            RowBox[{"Replace", "[", "\n", "\t\t\t\t\t", 
             RowBox[{
              RowBox[{"which", "@", 
               RowBox[{"Flatten", "@", 
                RowBox[{"{", "locs", "}"}]}]}], ",", "\n", "\t\t\t\t\t", 
              RowBox[{
               RowBox[{"HoldPattern", "[", 
                RowBox[{"which", "[", "f_", "]"}], "]"}], "\[RuleDelayed]", 
               "f"}]}], "\n", "\t\t\t\t\t", "]"}], "\n", "\t\t\t\t", 
            "}"}]}]}], "\n", "\t\t\t", "}"}], ",", "\n", "\t\t", 
        RowBox[{
         RowBox[{"Map", "[", 
          RowBox[{"SystemOpen", ",", "files"}], "]"}], ";", "\n", "\t\t", 
         "files"}]}], "\n", "\t\t", "]"}], "/;", "\n", "\t", 
      RowBox[{"AllTrue", "[", 
       RowBox[{
        RowBox[{"Flatten", "@", 
         RowBox[{"{", "locs", "}"}]}], ",", "StringQ"}], "]"}]}]}], "\n", 
    "\t", "]"}]}], ";"}]], "CodeInput",
 CellChangeTimes->{{3.703955997716713*^9, 3.703956031842956*^9}, {
   3.703956122381256*^9, 3.7039561289715233`*^9}, {3.703956183905292*^9, 
   3.7039562468149014`*^9}, {3.7039563214829893`*^9, 3.703956391740719*^9}, {
   3.7039564297843647`*^9, 3.703956460509791*^9}, 3.705594288394129*^9, {
   3.705594489132063*^9, 3.7055944897011766`*^9}, {3.7104223369158297`*^9, 
   3.710422336919421*^9}, 
   3.710429111188756*^9},ExpressionUUID->"a676dede-349e-4768-b64e-\
47d79e8030a7"]
}, Closed]],

Cell[CellGroupData[{

Cell["PDpacletBundle", "Subsubsubsection",
 CellChangeTimes->{{3.70267262355492*^9, 3.7026726255120993`*^9}, 
   3.705595728162962*^9, 
   3.7104223369304457`*^9},ExpressionUUID->"4aec8e9e-d5ab-4419-8e7f-\
6819f52f8a6e"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "PDpacletBundle", "]"}], "=", 
   RowBox[{"{", "\n", "\t", 
    RowBox[{
     RowBox[{"\"\<RemovePaths\>\"", "\[Rule]", 
      RowBox[{"{", "}"}]}], ",", "\n", "\t", 
     RowBox[{"\"\<RemovePatterns\>\"", "\[Rule]", "\"\<.DS_Store\>\""}], ",", 
     "\n", "\t", 
     RowBox[{"\"\<BuildRoot\>\"", "\[RuleDelayed]", "$TemporaryDirectory"}], 
     ","}], "\n", "\t", "}"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PDpacletBundle", "[", 
    RowBox[{
     RowBox[{"dir", ":", 
      RowBox[{
       RowBox[{"(", 
        RowBox[{"_String", "|", "_File"}], ")"}], "?", "DirectoryQ"}]}], ",", 
     
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "]"}], ":=", "\n", "\t", 
   RowBox[{"With", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"PDpacletDir", "=", "\n", "\t\t\t", 
       RowBox[{"FileNameJoin", "@", 
        RowBox[{"{", "\n", "\t\t\t\t", 
         RowBox[{
          RowBox[{"OptionValue", "[", "\"\<BuildRoot\>\"", "]"}], ",", "\n", 
          "\t\t\t\t", "\"\<_PDpaclets\>\"", ",", "\n", "\t\t\t\t", 
          RowBox[{"FileBaseName", "@", "dir"}]}], "\n", "\t\t\t\t", "}"}]}]}],
       "\n", "\t\t\t", "}"}], ",", "\n", "\t\t", 
     RowBox[{
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{"!", 
         RowBox[{"FileExistsQ", "@", 
          RowBox[{"DirectoryName", "[", "PDpacletDir", "]"}]}]}], ",", "\n", 
        "\t\t\t", 
        RowBox[{"CreateDirectory", "@", 
         RowBox[{"DirectoryName", "[", "PDpacletDir", "]"}]}]}], "\n", 
       "\t\t\t", "]"}], ";", "\n", "\t\t", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{"FileExistsQ", "@", "PDpacletDir"}], ",", "\n", "\t\t\t", 
        RowBox[{"DeleteDirectory", "[", 
         RowBox[{"PDpacletDir", ",", 
          RowBox[{"DeleteContents", "\[Rule]", "True"}]}], "]"}]}], "\n", 
       "\t\t\t", "]"}], ";", "\n", "\t\t", 
      RowBox[{"CopyDirectory", "[", 
       RowBox[{"dir", ",", "PDpacletDir"}], "]"}], ";", "\n", "\t\t", 
      RowBox[{"Do", "[", "\n", "\t\t\t", 
       RowBox[{
        RowBox[{"With", "[", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"p", "=", 
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{"Not", "@", 
               RowBox[{"FileExistsQ", "@", "path"}]}], ",", 
              RowBox[{"FileNameJoin", "@", 
               RowBox[{"{", 
                RowBox[{"PDpacletDir", ",", "path"}], "}"}]}], ",", "path"}], 
             "]"}]}], "}"}], ",", "\n", "\t\t\t\t", 
          RowBox[{"If", "[", 
           RowBox[{
            RowBox[{"DirectoryQ", "@", "p"}], ",", "\n", "\t\t\t\t\t", 
            RowBox[{"DeleteDirectory", "[", 
             RowBox[{"p", ",", "\n", "\t\t\t\t\t\t", 
              RowBox[{"DeleteContents", "\[Rule]", "True"}]}], "\n", 
             "\t\t\t\t\t\t", "]"}], ",", "\n", "\t\t\t\t\t", 
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{"FileExistsQ", "@", "p"}], ",", 
              RowBox[{"DeleteFile", "[", "p", "]"}]}], "]"}]}], "\n", 
           "\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t", "]"}], ",", "\n", 
        "\t\t\t", 
        RowBox[{"{", 
         RowBox[{"path", ",", "\n", "\t\t\t\t", 
          RowBox[{"Join", "[", "\n", "\t\t\t\t\t", 
           RowBox[{
            RowBox[{"Flatten", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"OptionValue", "[", "\"\<RemovePaths\>\"", "]"}], 
               "}"}], ",", "1"}], "]"}], ",", "\n", "\t\t\t\t\t", 
            RowBox[{
             RowBox[{
              RowBox[{"FileNameDrop", "[", 
               RowBox[{"#", ",", 
                RowBox[{"FileNameDepth", "@", "PDpacletDir"}]}], "]"}], "&"}],
              "/@", "\n", "\t\t\t\t\t\t", 
             RowBox[{"FileNames", "[", 
              RowBox[{
               RowBox[{"OptionValue", "[", "\"\<RemovePatterns\>\"", "]"}], 
               ",", "PDpacletDir", ",", "\[Infinity]"}], "]"}]}]}], "\n", 
           "\t\t\t\t\t", "]"}]}], "}"}]}], "\n", "\t\t\t", "]"}], ";", "\n", 
      "\t\t", 
      RowBox[{"With", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"PDpacletFile", "=", 
          RowBox[{"PacletManager`PackPaclet", "[", "PDpacletDir", "]"}]}], 
         "}"}], ",", "\n", "\t\t\t", "PDpacletFile"}], "\n", "\t\t\t", 
       "]"}]}]}], "\n", "\t\t", "]"}]}], ";"}]}], "CodeInput",
 CellChangeTimes->{{3.700343920134439*^9, 3.70034392013544*^9}, {
   3.700346503511764*^9, 3.700346564301044*^9}, 3.700346607867813*^9, {
   3.7003467162396193`*^9, 3.700346940786789*^9}, {3.7003470302401333`*^9, 
   3.700347030726852*^9}, {3.700347136749069*^9, 3.70034717997465*^9}, {
   3.7003473092721033`*^9, 3.700347438083044*^9}, {3.700347490608177*^9, 
   3.700347504789124*^9}, {3.700347625402205*^9, 3.700347628201865*^9}, {
   3.700349176895845*^9, 3.700349177820567*^9}, {3.700349821242158*^9, 
   3.7003498421200743`*^9}, {3.700350622923695*^9, 3.700350622928952*^9}, {
   3.700350709468611*^9, 3.700350756661366*^9}, {3.7003511691532183`*^9, 
   3.700351191810205*^9}, {3.700351308979813*^9, 3.700351315374024*^9}, {
   3.7003521924515142`*^9, 3.700352192944735*^9}, {3.700354225408046*^9, 
   3.700354296041238*^9}, 3.700354977895813*^9, {3.70093005351534*^9, 
   3.700930053523767*^9}, {3.700945718903007*^9, 3.7009457296976833`*^9}, {
   3.7009458377936974`*^9, 3.700945859733008*^9}, {3.701120276828199*^9, 
   3.701120298576109*^9}, {3.701120989232214*^9, 3.701120995753675*^9}, {
   3.70112105244481*^9, 3.701121063246214*^9}, 3.70112146625625*^9, {
   3.7011215714197397`*^9, 3.701121610357299*^9}, {3.701123735130911*^9, 
   3.701123746927438*^9}, {3.701485806722618*^9, 3.7014858103268967`*^9}, {
   3.702672568271213*^9, 3.702672762164009*^9}, {3.702672800115327*^9, 
   3.7026728801354837`*^9}, {3.7026729114564953`*^9, 3.702672968091906*^9}, {
   3.702674825785706*^9, 3.7026748257900877`*^9}, {3.702675435603157*^9, 
   3.702675437119307*^9}, {3.7027288005402403`*^9, 3.7027288244713306`*^9}, 
   3.703950099969379*^9, 3.704482264924344*^9, {3.7044840088642673`*^9, 
   3.704484010607278*^9}, {3.704484046787312*^9, 3.704484056049549*^9}, {
   3.704484435853209*^9, 3.7044844373398657`*^9}, 3.70517742297222*^9, {
   3.7055956622617064`*^9, 3.705595694162424*^9}, {3.705595728176223*^9, 
   3.705595728181074*^9}, {3.710422336953581*^9, 3.710422337028553*^9}, {
   3.7104283741062117`*^9, 3.710428374115323*^9}, 
   3.710429111255127*^9},ExpressionUUID->"0df2bf72-13e6-4f5b-9202-\
936b20d48bb8"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]installPacletGenerate\[RightFloor]", "Subsubsubsection",
 CellChangeTimes->{3.7055904028112698`*^9, 
  3.7104283741710777`*^9},ExpressionUUID->"57fb0010-b1e7-494f-bbe2-\
a17543475088"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "installPacletGenerate", "]"}], "=", 
   RowBox[{"{", "\n", "\t", 
    RowBox[{"\"\<Verbose\>\"", "\[Rule]", "False"}], "\n", "\t", "}"}]}], 
  ";"}]], "CodeInput",
 CellChangeTimes->{{3.703596882451902*^9, 3.703596909310603*^9}, 
   3.703596963629928*^9, {3.703596994206448*^9, 3.70359705828927*^9}, {
   3.703597199232031*^9, 3.7035973214615498`*^9}, {3.703597358388389*^9, 
   3.703597363425683*^9}, {3.703597408818859*^9, 3.703597536252705*^9}, {
   3.703597582467514*^9, 3.7035976933652153`*^9}, {3.703597729799712*^9, 
   3.703597883708735*^9}, {3.7036012003231287`*^9, 3.703601250853359*^9}, {
   3.703601286088584*^9, 3.70360137370816*^9}, 3.7036019760029173`*^9, {
   3.703602074739292*^9, 3.703602082164765*^9}, {3.7036057162743473`*^9, 
   3.703605717681321*^9}, {3.703605755103426*^9, 3.703605775056489*^9}, {
   3.7036094169313393`*^9, 3.7036094250224047`*^9}, {3.7036095179463367`*^9, 
   3.703609518263874*^9}, {3.703761511923973*^9, 3.7037615577086887`*^9}, {
   3.703762138591441*^9, 3.703762139885727*^9}, {3.7037648079831543`*^9, 
   3.7037648318290863`*^9}, {3.703765994785977*^9, 3.703766116005128*^9}, 
   3.704053666030692*^9, 3.704451039015747*^9, 3.705592290644772*^9, 
   3.710428374181711*^9, 
   3.710429111312028*^9},ExpressionUUID->"336db1c8-1352-4b43-ab2d-\
86eac6adb49e"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"installPacletGenerate", "[", 
    RowBox[{
     RowBox[{"dir", ":", 
      RowBox[{
       RowBox[{"(", 
        RowBox[{"_String", "|", "_File"}], ")"}], "?", "DirectoryQ"}]}], ",", 
     
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "]"}], ":=", "\n", 
   RowBox[{"Block", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"bundleDir", "=", "dir"}], "}"}], ",", "\n", "\t", 
     RowBox[{
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{"OptionValue", "@", "\"\<Verbose\>\""}], ",", "\n", "\t\t", 
        RowBox[{"DisplayTemporary", "@", "\n", "\t\t", 
         RowBox[{"Internal`LoadingPanel", "[", "\n", "\t\t\t", 
          RowBox[{"TemplateApply", "[", 
           RowBox[{"\"\<Bundling PDpaclet for ``\>\"", ",", "dir"}], "]"}], 
          "\n", "\t\t\t", "]"}]}]}], "\n", "\t\t", "]"}], ";", "\n", "\t", 
      RowBox[{"(*", " ", 
       RowBox[{
        RowBox[{
         RowBox[{"--", 
          RowBox[{"--", 
           RowBox[{"--", 
            RowBox[{"--", 
             RowBox[{"--", 
              RowBox[{"--", " ", "Extract"}]}]}]}]}]}], " ", "Archive", " ", 
         RowBox[{
          RowBox[{
           RowBox[{
            RowBox[{
             RowBox[{
              RowBox[{
               RowBox[{"Files", " ", "--"}], "--"}], "--"}], "--"}], "--"}], 
           "--"}], "--"}]}], "-"}], " ", "*)"}], "\n", "\t", 
      RowBox[{
       RowBox[{
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{"FileExistsQ", "@", "#"}], ",", 
          RowBox[{"Quiet", "@", 
           RowBox[{"ExtractArchive", "[", 
            RowBox[{"#", ",", "dir"}], "]"}]}]}], "]"}], "&"}], "/@", "\n", 
       "\t", 
       RowBox[{"Map", "[", "\n", "\t\t", 
        RowBox[{
         RowBox[{
          RowBox[{"FileNameJoin", "@", 
           RowBox[{"{", 
            RowBox[{"dir", ",", 
             RowBox[{
              RowBox[{"FileBaseName", "@", "dir"}], "<>", "#"}]}], "}"}]}], 
          "&"}], ",", "\n", "\t\t", 
         RowBox[{"{", 
          RowBox[{"\"\<.zip\>\"", ",", "\"\<.gz\>\""}], "}"}]}], "\n", "\t\t",
         "]"}]}], ";", "\n", "\t", 
      RowBox[{"(*", " ", 
       RowBox[{
        RowBox[{"--", 
         RowBox[{"--", 
          RowBox[{"--", 
           RowBox[{"--", 
            RowBox[{"--", 
             RowBox[{"--", " ", "Detect"}]}]}]}]}]}], " ", "Paclet", " ", 
        RowBox[{"Layout", " ", "--"}], 
        RowBox[{"--", 
         RowBox[{"--", 
          RowBox[{"--", 
           RowBox[{"--", 
            RowBox[{"--", 
             RowBox[{"--", "-"}]}]}]}]}]}]}], " ", "*)"}], "\n", "\t", 
      RowBox[{"Which", "[", "\n", "\t\t", 
       RowBox[{
        RowBox[{"FileExistsQ", "@", 
         RowBox[{"FileNameJoin", "@", 
          RowBox[{"{", 
           RowBox[{"dir", ",", "\"\<PacletInfo.m\>\""}], "}"}]}]}], ",", "\n",
         "\t\t", 
        RowBox[{"bundleDir", "=", "dir"}], ",", "\n", "\t\t", 
        RowBox[{
         RowBox[{"FileExistsQ", "@", 
          RowBox[{"FileNameJoin", "@", 
           RowBox[{"{", 
            RowBox[{"dir", ",", 
             RowBox[{
              RowBox[{"FileBaseName", "[", "dir", "]"}], "<>", 
              "\"\<.m\>\""}]}], "}"}]}]}], "||", "\n", "\t\t", 
         RowBox[{"FileExistsQ", "@", 
          RowBox[{"FileNameJoin", "@", 
           RowBox[{"{", 
            RowBox[{"dir", ",", 
             RowBox[{
              RowBox[{"FileBaseName", "[", "dir", "]"}], "<>", 
              "\"\<.wl\>\""}]}], "}"}]}]}], "||", "\n", "\t\t", 
         RowBox[{"FileExistsQ", "@", 
          RowBox[{"FileNameJoin", "@", 
           RowBox[{"{", 
            RowBox[{"dir", ",", "\"\<Kernel\>\"", ",", 
             RowBox[{"\"\<init\>\"", "<>", "\"\<.m\>\""}]}], "}"}]}]}], "||", 
         "\n", "\t\t", 
         RowBox[{"FileExistsQ", "@", 
          RowBox[{"FileNameJoin", "@", 
           RowBox[{"{", 
            RowBox[{"dir", ",", "\"\<Kernel\>\"", ",", 
             RowBox[{"\"\<init\>\"", "<>", "\"\<.wl\>\""}]}], "}"}]}]}]}], 
        ",", "\n", "\t\t", 
        RowBox[{
         RowBox[{"bundleDir", "=", "dir"}], ";", "\n", "\t\t", 
         RowBox[{"PDpacletExpressionBundle", "[", "bundleDir", "]"}]}], ",", 
        "\n", "\t\t", 
        RowBox[{"FileExistsQ", "@", 
         RowBox[{"FileNameJoin", "@", 
          RowBox[{"{", 
           RowBox[{"dir", ",", 
            RowBox[{"FileBaseName", "@", "dir"}], ",", 
            "\"\<PacletInfo.m\>\""}], "}"}]}]}], ",", "\n", "\t\t", 
        RowBox[{"bundleDir", "=", 
         RowBox[{"FileNameJoin", "@", 
          RowBox[{"{", 
           RowBox[{"dir", ",", 
            RowBox[{"FileBaseName", "@", "dir"}]}], "}"}]}]}], ",", "\n", 
        "\t\t", 
        RowBox[{"FileExistsQ", "@", 
         RowBox[{"FileNameJoin", "@", 
          RowBox[{"{", 
           RowBox[{"dir", ",", 
            RowBox[{"FileBaseName", "@", "dir"}], ",", 
            RowBox[{
             RowBox[{"FileBaseName", "@", "dir"}], "<>", "\"\<.m\>\""}]}], 
           "}"}]}]}], ",", "\n", "\t\t", 
        RowBox[{
         RowBox[{"bundleDir", "=", 
          RowBox[{"FileNameJoin", "@", 
           RowBox[{"{", 
            RowBox[{"dir", ",", 
             RowBox[{"FileBaseName", "@", "dir"}]}], "}"}]}]}], ";", "\n", 
         "\t\t", 
         RowBox[{"PDpacletExpressionBundle", "[", "bundleDir", "]"}]}], ",", 
        "\n", "\t\t", 
        RowBox[{"FileExistsQ", "@", 
         RowBox[{"FileNameJoin", "@", 
          RowBox[{"{", 
           RowBox[{"dir", ",", 
            RowBox[{
             RowBox[{"FileBaseName", "[", "dir", "]"}], "<>", 
             "\"\<.nb\>\""}]}], "}"}]}]}], ",", "\n", "\t\t", 
        RowBox[{
         RowBox[{"Export", "[", "\n", "\t\t\t", 
          RowBox[{
           RowBox[{"FileNameJoin", "@", 
            RowBox[{"{", 
             RowBox[{"dir", ",", 
              RowBox[{
               RowBox[{"FileBaseName", "[", "dir", "]"}], "<>", 
               "\"\<.m\>\""}]}], "}"}]}], ",", "\n", "\t\t\t", 
           "\"\<(*Open package notebook*)\nCreateDocument[\n\tImport@\n\t\t\
StringReplace[$InputFileName,\\\".m\\\"->\\\".nb\\\"]\n\t]\>\"", ",", "\n", 
           "\t\t\t", "\"\<Text\>\""}], "\n", "\t\t\t", "]"}], ";", "\n", 
         "\t\t", 
         RowBox[{"bundleDir", "=", "dir"}], ";", "\n", "\t\t", 
         RowBox[{"PDpacletExpressionBundle", "[", "bundleDir", "]"}]}], ",", 
        "\n", "\t\t", "_", ",", "\n", "\t\t", 
        RowBox[{
         RowBox[{"Message", "[", 
          RowBox[{"PDInstallPaclet", "::", "laywha"}], "]"}], ";", "\n", 
         "\t\t", 
         RowBox[{"Throw", "[", "$Failed", "]"}]}]}], "\n", "\t\t", "]"}], ";",
       "\n", "\t", 
      RowBox[{"PDpacletBundle", "[", "bundleDir", "]"}]}]}], "\n", "\t", 
    "]"}]}], ";"}]], "CodeInput",
 CellChangeTimes->{{3.703596882451902*^9, 3.703596909310603*^9}, 
   3.703596963629928*^9, {3.703596994206448*^9, 3.70359705828927*^9}, {
   3.703597199232031*^9, 3.7035973214615498`*^9}, {3.703597358388389*^9, 
   3.703597363425683*^9}, {3.703597408818859*^9, 3.703597536252705*^9}, {
   3.703597582467514*^9, 3.7035976933652153`*^9}, {3.703597729799712*^9, 
   3.703597883708735*^9}, {3.7036012003231287`*^9, 3.703601250853359*^9}, {
   3.703601286088584*^9, 3.70360137370816*^9}, 3.7036019760029173`*^9, {
   3.703602074739292*^9, 3.703602082164765*^9}, {3.7036057162743473`*^9, 
   3.703605717681321*^9}, {3.703605755103426*^9, 3.703605775056489*^9}, {
   3.7036094169313393`*^9, 3.7036094250224047`*^9}, {3.7036095179463367`*^9, 
   3.703609518263874*^9}, {3.703761511923973*^9, 3.7037615577086887`*^9}, {
   3.703762138591441*^9, 3.703762139885727*^9}, {3.7037648079831543`*^9, 
   3.7037648318290863`*^9}, {3.703765994785977*^9, 3.703766116005128*^9}, 
   3.704053666030692*^9, {3.704451039015747*^9, 3.7044510500368977`*^9}, {
   3.705590450117289*^9, 3.705590504978628*^9}, {3.7055905394968433`*^9, 
   3.705590552119382*^9}, {3.705590587489524*^9, 3.70559085153755*^9}, {
   3.7055908932857943`*^9, 3.705590974912464*^9}, {3.7055910442194643`*^9, 
   3.705591130356502*^9}, {3.705591359965331*^9, 3.705591409555851*^9}, 
   3.705592011347321*^9, 3.705592368411703*^9, 3.7055955861753807`*^9, {
   3.710422320423832*^9, 3.7104223422855864`*^9}, {3.7104283741933937`*^9, 
   3.710428374224494*^9}, {3.710428633044978*^9, 3.7104286333229094`*^9}, 
   3.7104291113618727`*^9},ExpressionUUID->"752c4b71-d032-4346-8050-\
d6b5ca941d39"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"installPacletGenerate", "[", 
    RowBox[{
     RowBox[{"file", ":", 
      RowBox[{
       RowBox[{"(", 
        RowBox[{"_String", "|", "_File"}], ")"}], "?", "FileExistsQ"}]}], ",", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "]"}], ":=", "\n", 
   RowBox[{"Switch", "[", 
    RowBox[{
     RowBox[{"FileExtension", "[", "file", "]"}], ",", "\n", "\t", 
     RowBox[{"\"\<m\>\"", "|", "\"\<wl\>\""}], ",", "\n", "\t", 
     RowBox[{
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{"OptionValue", "@", "\"\<Verbose\>\""}], ",", "\n", "\t\t", 
        RowBox[{"DisplayTemporary", "@", "\n", "\t\t", 
         RowBox[{"Internal`LoadingPanel", "[", "\n", "\t\t\t", 
          RowBox[{"TemplateApply", "[", 
           RowBox[{"\"\<Bundling PDpaclet for ``\>\"", ",", "file"}], "]"}], 
          "\n", "\t\t\t", "]"}]}]}], "\n", "\t\t", "]"}], ";", "\n", "\t", 
      RowBox[{"With", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"dir", "=", "\n", "\t\t\t", 
          RowBox[{"FileNameJoin", "@", 
           RowBox[{"{", "\n", "\t\t\t\t", 
            RowBox[{"$TemporaryDirectory", ",", "\n", "\t\t\t\t", 
             RowBox[{"FileBaseName", "@", "file"}]}], "\n", "\t\t\t\t", 
            "}"}]}]}], "\n", "\t\t\t", "}"}], ",", "\n", "\t\t", 
        RowBox[{
         RowBox[{"Quiet", "@", 
          RowBox[{"CreateDirectory", "[", "dir", "]"}]}], ";", "\n", "\t\t", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{"FileExistsQ", "@", "\n", "\t\t\t", 
            RowBox[{"FileNameJoin", "@", 
             RowBox[{"{", "\n", "\t\t\t\t", 
              RowBox[{
               RowBox[{"DirectoryName", "@", "file"}], ",", "\n", "\t\t\t\t", 
               "\"\<DependencyInfo.m\>\""}], "\n", "\t\t\t\t", "}"}]}]}], ",",
            "\n", "\t\t\t", 
           RowBox[{"CopyFile", "[", "\n", "\t\t\t\t", 
            RowBox[{
             RowBox[{"FileNameJoin", "@", 
              RowBox[{"{", "\n", "\t\t\t\t\t", 
               RowBox[{
                RowBox[{"DirectoryName", "@", "file"}], ",", "\n", 
                "\t\t\t\t\t", "\"\<DependencyInfo.m\>\""}], "\n", 
               "\t\t\t\t\t", "}"}]}], ",", "\n", "\t\t\t\t", 
             RowBox[{"FileNameJoin", "@", 
              RowBox[{"{", "\n", "\t\t\t\t\t", 
               RowBox[{
               "dir", ",", "\n", "\t\t\t\t\t", "\"\<DependencyInfo.m\>\""}], 
               "\n", "\t\t\t\t\t", "}"}]}]}], "\t", "\n", "\t\t\t\t", "]"}]}],
           "\n", "\t\t\t", "]"}], ";", "\n", "\t\t", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{"FileExistsQ", "@", "\n", "\t\t\t", 
            RowBox[{"FileNameJoin", "@", 
             RowBox[{"{", "\n", "\t\t\t\t", 
              RowBox[{
               RowBox[{"DirectoryName", "@", "file"}], ",", "\n", "\t\t\t\t", 
               "\"\<PacletInfo.m\>\""}], "\n", "\t\t\t\t", "}"}]}]}], ",", 
           "\n", "\t\t\t", 
           RowBox[{"CopyFile", "[", "\n", "\t\t\t\t", 
            RowBox[{
             RowBox[{"FileNameJoin", "@", 
              RowBox[{"{", "\n", "\t\t\t\t\t", 
               RowBox[{
                RowBox[{"DirectoryName", "@", "file"}], ",", "\n", 
                "\t\t\t\t\t", "\"\<PacletInfo.m\>\""}], "\n", "\t\t\t\t\t", 
               "}"}]}], ",", "\n", "\t\t\t\t", 
             RowBox[{"FileNameJoin", "@", 
              RowBox[{"{", "\n", "\t\t\t\t\t", 
               RowBox[{
               "dir", ",", "\n", "\t\t\t\t\t", "\"\<PacletInfo.m\>\""}], "\n",
                "\t\t\t\t\t", "}"}]}]}], "\t", "\n", "\t\t\t\t", "]"}]}], 
          "\n", "\t\t\t", "]"}], ";", "\n", "\t\t", 
         RowBox[{"CopyFile", "[", 
          RowBox[{"file", ",", "\n", "\t\t\t", 
           RowBox[{"FileNameJoin", "@", 
            RowBox[{"{", "\n", "\t\t\t\t", 
             RowBox[{"dir", ",", "\n", "\t\t\t\t", 
              RowBox[{"FileNameTake", "@", "file"}]}], "\n", "\t\t\t\t", 
             "}"}]}], ",", "\n", "\t\t\t", 
           RowBox[{"OverwriteTarget", "\[Rule]", "True"}]}], "\n", "\t\t\t", 
          "]"}], ";", "\n", "\t\t", 
         RowBox[{"PDpacletExpressionBundle", "[", 
          RowBox[{"dir", ",", "\n", "\t\t\t", 
           RowBox[{"\"\<Name\>\"", "\[Rule]", "\n", "\t\t\t", 
            RowBox[{"StringReplace", "[", 
             RowBox[{
              RowBox[{"FileBaseName", "[", "dir", "]"}], ",", "\n", 
              "\t\t\t\t", 
              RowBox[{
               RowBox[{"Except", "[", 
                RowBox[{"WordCharacter", "|", "\"\<$\>\""}], "]"}], 
               "\[Rule]", "\"\<\>\""}]}], "]"}]}]}], "\n", "\t\t\t", "]"}], 
         ";", "\n", "\t\t", 
         RowBox[{"PDpacletBundle", "[", 
          RowBox[{"dir", ",", "\n", "\t\t\t", 
           RowBox[{"\"\<BuildRoot\>\"", "\[Rule]", "$TemporaryDirectory"}]}], 
          "\n", "\t\t\t", "]"}]}]}], "\n", "\t\t", "]"}]}], ",", "\n", "\t", 
     "\"\<nb\>\"", ",", "\n", "\t", 
     RowBox[{"With", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"dir", "=", "\n", "\t\t\t", 
         RowBox[{"FileNameJoin", "@", 
          RowBox[{"{", "\n", "\t\t\t\t", 
           RowBox[{"$TemporaryDirectory", ",", "\n", "\t\t\t\t", 
            RowBox[{"StringJoin", "@", 
             RowBox[{"RandomSample", "[", 
              RowBox[{
               RowBox[{"Alphabet", "[", "]"}], ",", "10"}], "]"}]}], ",", 
            "\n", "\t\t\t\t", 
            RowBox[{"FileBaseName", "@", "file"}]}], "\n", "\t\t\t\t", 
           "}"}]}]}], "\n", "\t\t\t", "}"}], ",", "\n", "\t\t", 
       RowBox[{
        RowBox[{"Quiet", "[", "\n", "\t\t\t", 
         RowBox[{
          RowBox[{"DeleteDirectory", "[", 
           RowBox[{"dir", ",", 
            RowBox[{"DeleteContents", "\[Rule]", "True"}]}], "]"}], ";", "\n",
           "\t\t\t", 
          RowBox[{"CreateDirectory", "[", 
           RowBox[{"dir", ",", 
            RowBox[{"CreateIntermediateDirectories", "\[Rule]", "True"}]}], 
           "]"}]}], "\n", "\t\t\t", "]"}], ";", "\n", "\t\t", 
        RowBox[{"CopyFile", "[", 
         RowBox[{"file", ",", 
          RowBox[{"FileNameJoin", "@", 
           RowBox[{"{", 
            RowBox[{"dir", ",", 
             RowBox[{"FileNameTake", "@", "file"}]}], "}"}]}]}], "]"}], ";", 
        "\n", "\t\t", 
        RowBox[{"installPacletGenerate", "[", "dir", "]"}]}]}], "\n", "\t\t", 
      "]"}], ",", "\n", "\t", "\"\<PDpaclet\>\"", ",", "\n", "\t", "file", 
     ",", "\n", "\t", "_", ",", "\n", "\t", 
     RowBox[{"Message", "[", 
      RowBox[{
       RowBox[{"PDInstallPaclet", "::", "howdo"}], ",", "\n", "\t\t", 
       RowBox[{"FileExtension", "@", "file"}]}], "\n", "\t\t", "]"}]}], "\n", 
    "\t", "]"}]}], ";"}]], "CodeInput",
 CellChangeTimes->{{3.703596882451902*^9, 3.703596909310603*^9}, 
   3.703596963629928*^9, {3.703596994206448*^9, 3.70359705828927*^9}, {
   3.703597199232031*^9, 3.7035973214615498`*^9}, {3.703597358388389*^9, 
   3.703597363425683*^9}, {3.703597408818859*^9, 3.703597536252705*^9}, {
   3.703597582467514*^9, 3.7035976933652153`*^9}, {3.703597729799712*^9, 
   3.703597883708735*^9}, {3.7036012003231287`*^9, 3.703601250853359*^9}, {
   3.703601286088584*^9, 3.70360137370816*^9}, 3.7036019760029173`*^9, {
   3.703602074739292*^9, 3.703602082164765*^9}, {3.7036057162743473`*^9, 
   3.703605717681321*^9}, {3.703605755103426*^9, 3.703605775056489*^9}, {
   3.7036094169313393`*^9, 3.7036094250224047`*^9}, {3.7036095179463367`*^9, 
   3.703609518263874*^9}, {3.703761511923973*^9, 3.7037615577086887`*^9}, {
   3.703762138591441*^9, 3.703762139885727*^9}, {3.7037648079831543`*^9, 
   3.7037648318290863`*^9}, {3.703765994785977*^9, 3.703766116005128*^9}, 
   3.704053666030692*^9, {3.704451039015747*^9, 3.70445107106711*^9}, 
   3.7055899984374647`*^9, 3.7055901395111923`*^9, {3.7055911640589027`*^9, 
   3.705591300361092*^9}, 3.7055913322257633`*^9, {3.705591424162081*^9, 
   3.7055914797616043`*^9}, 3.705592011357726*^9, 3.705592296013603*^9, 
   3.7055923601861963`*^9, {3.7055924068225937`*^9, 3.705592406832511*^9}, 
   3.705595586188922*^9, {3.710422320446965*^9, 3.710422342295809*^9}, {
   3.710428374234049*^9, 3.710428374271735*^9}, 
   3.7104291114534903`*^9},ExpressionUUID->"a948d214-3694-4c1c-be2b-\
c1d09ba6002f"]
}, Closed]],

Cell[CellGroupData[{

Cell["gitHubPathQ", "Subsubsubsection",
 CellChangeTimes->{{3.710427868203845*^9, 3.710427896429298*^9}, {
  3.710427956048293*^9, 3.710427985891961*^9}, {3.710428218494169*^9, 
  3.7104282186661873`*^9}},ExpressionUUID->"35efd7b8-6386-49b9-94cb-\
755232d4af7b"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"PDgitHubPathQ", "[", 
    RowBox[{"path", ":", 
     RowBox[{"_String", "|", "_URL"}]}], "]"}], ":=", "\n", "\t", 
   RowBox[{"With", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"p", "=", 
       RowBox[{"URLParse", "[", "path", "]"}]}], "}"}], ",", "\n", "\t", "\t", 
     RowBox[{
      RowBox[{"MatchQ", "[", 
       RowBox[{
        RowBox[{"p", "[", "\"\<Scheme\>\"", "]"}], ",", 
        RowBox[{"\"\<http\>\"", "|", "\"\<https\>\""}]}], "]"}], "&&", "\n", 
      "\t", "\t", 
      RowBox[{
       RowBox[{"p", "[", "\"\<Domain\>\"", "]"}], "==", 
       "\"\<github.com\>\""}], "&&", "\n", "\t", "\t", 
      RowBox[{
       RowBox[{"Length", "@", 
        RowBox[{"p", "[", "\"\<Path\>\"", "]"}]}], ">", "0"}]}]}], "\n", 
    "\t\t", "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PDgitHubPathQ", "[", "_PDgitHubPath", "]"}], ":=", "\n", "\t", 
   "True"}], ";"}]}], "CodeInput",
 CellChangeTimes->{{3.710428007266982*^9, 3.710428009092298*^9}, {
   3.710428082802273*^9, 3.71042808603749*^9}, 
   3.710429111514059*^9},ExpressionUUID->"f6901664-9a6a-44b6-9af4-\
19eb3fe18716"]
}, Closed]],

Cell[CellGroupData[{

Cell["gitHubPathParse", "Subsubsubsection",
 CellChangeTimes->{{3.710427868203845*^9, 3.710427896429298*^9}, {
   3.710427956048293*^9, 3.7104279579789886`*^9}, 
   3.71042822045049*^9},ExpressionUUID->"2cd7be8d-b66e-4cc5-bc37-\
ea8e35c77805"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"PDgitHubPathParse", "[", 
    RowBox[{"path", ":", 
     RowBox[{"_String", "|", "_URL"}]}], "]"}], ":=", "\n", "\t", 
   RowBox[{"If", "[", 
    RowBox[{
     RowBox[{"PDgitHubPathQ", "[", "path", "]"}], ",", "\n", "\t\t", 
     RowBox[{"Replace", "[", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{
        RowBox[{"DeleteCases", "[", "\"\<\>\"", "]"}], "@", "\n", "\t\t\t\t", 
        
        RowBox[{"URLParse", "[", 
         RowBox[{"path", ",", "\"\<Path\>\""}], "]"}]}], ",", 
       RowBox[{"{", "\n", "\t\t\t", 
        RowBox[{
         RowBox[{
          RowBox[{"{", 
           RowBox[{"user_", ",", "parts__"}], "}"}], "|", "\n", "\t\t\t", 
          RowBox[{"{", 
           RowBox[{"user_", ",", "parts__"}], "}"}]}], ":>", "\n", "\t\t\t\t", 
         RowBox[{"PDgitHubPath", "[", 
          RowBox[{"parts", ",", 
           RowBox[{"\"\<Username\>\"", "\[Rule]", "user"}]}], "]"}]}], "\n", 
        "\t\t\t", "}"}]}], "]"}], ",", "\n", "\t\t", "$Failed"}], "\n", 
    "\t\t", "]"}]}], ";"}]], "CodeInput",
 CellChangeTimes->{
  3.710427959633032*^9, {3.710428099827207*^9, 3.710428099832466*^9}, 
   3.710429111549686*^9},ExpressionUUID->"1d159def-623c-40b8-8716-\
143daddc8ac0"]
}, Closed]],

Cell[CellGroupData[{

Cell["gitHubReleaseQ", "Subsubsubsection",
 CellChangeTimes->{{3.710427868203845*^9, 
  3.710427896429298*^9}},ExpressionUUID->"e5a1bdcb-1dc6-482c-ac05-\
84cde44cd680"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"PDgitHubReleaseQ", "[", 
    RowBox[{"PDgitHubPath", "[", 
     RowBox[{"p__String", ",", 
      RowBox[{"___", "?", "OptionQ"}]}], "]"}], "]"}], ":=", "\n", "\t", 
   RowBox[{"MatchQ", "[", 
    RowBox[{
     RowBox[{"{", "p", "}"}], ",", "\n", "\t\t", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"__", ",", "\"\<releases\>\""}], "}"}], "|", "\n", "\t\t", 
      RowBox[{"{", 
       RowBox[{"__", ",", "\"\<releases\>\"", ",", "\"\<tag\>\"", ",", "_"}], 
       "}"}]}]}], "\n", "\t\t", "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PDgitHubReleaseQ", "[", 
    RowBox[{"path", ":", 
     RowBox[{"_String", "|", "_URL"}]}], "]"}], ":=", "\n", "\t", 
   RowBox[{"If", "[", 
    RowBox[{
     RowBox[{"PDgitHubPathQ", "@", "path"}], ",", "\n", "\t\t", 
     RowBox[{"Replace", "[", 
      RowBox[{
       RowBox[{"PDgitHubPathParse", "[", "path", "]"}], ",", 
       RowBox[{"{", "\n", "\t\t\t", 
        RowBox[{
         RowBox[{"g_PDgitHubPath", ":>", "\n", "\t\t\t\t", 
          RowBox[{"PDgitHubReleaseQ", "@", "g"}]}], ",", "\n", "\t\t\t", 
         RowBox[{"_", "\[Rule]", "False"}]}], "\n", "\t\t\t", "}"}]}], "]"}], 
     ",", "\n", "\t\t", "False"}], "\n", "\t\t", "]"}]}], ";"}]}], "CodeInput",
 CellChangeTimes->{{3.710427897662096*^9, 3.710427929141279*^9}, {
   3.710428099839779*^9, 3.710428099844185*^9}, 
   3.710429111607045*^9},ExpressionUUID->"d0d2060a-0473-423c-8c97-\
d320c9115b36"]
}, Closed]],

Cell[CellGroupData[{

Cell["gitHubRepoQ", "Subsubsubsection",
 CellChangeTimes->{
  3.710427868203845*^9},ExpressionUUID->"4a6e738a-f1af-4623-80c5-\
60c7dbf295ad"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"PDgitHubRepoQ", "[", 
    RowBox[{"path", ":", 
     RowBox[{"_String", "|", "_URL"}]}], "]"}], ":=", "\n", "\t", 
   RowBox[{"With", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"p", "=", 
       RowBox[{"URLParse", "[", "path", "]"}]}], "}"}], ",", "\n", "\t\t", 
     RowBox[{
      RowBox[{"MatchQ", "[", 
       RowBox[{
        RowBox[{"p", "[", "\"\<Scheme\>\"", "]"}], ",", 
        RowBox[{"\"\<http\>\"", "|", "\"\<https\>\""}]}], "]"}], "&&", "\n", 
      "\t\t", 
      RowBox[{
       RowBox[{"p", "[", "\"\<Domain\>\"", "]"}], "==", 
       "\"\<github.com\>\""}], "&&", "\n", "\t", "\t", 
      RowBox[{
       RowBox[{"Length", "@", 
        RowBox[{"p", "[", "\"\<Path\>\"", "]"}]}], ">", "0"}], "&&", "\n", 
      "\t\t", 
      RowBox[{"!", 
       RowBox[{"MatchQ", "[", 
        RowBox[{
         RowBox[{"p", "[", "\"\<Path\>\"", "]"}], ",", "\n", "\t\t\t", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"\"\<repos\>\"", ",", "__"}], "}"}], "|", "\n", "\t\t\t", 
          RowBox[{"{", 
           RowBox[{"__", ",", 
            RowBox[{"\"\<releases\>\"", "|", "\"\<deployments\>\""}]}], "}"}],
           "|", "\n", "\t\t\t", 
          RowBox[{"{", 
           RowBox[{"__", ",", 
            RowBox[{"\"\<releases\>\"", "|", "\"\<deployments\>\""}], ",", 
            "\"\<tag\>\"", ",", "___"}], "}"}]}]}], "\n", "\t\t\t", 
        "]"}]}]}]}], "\n", "\t\t", "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PDgitHubRepoQ", "[", 
    RowBox[{"PDgitHubPath", "[", 
     RowBox[{"path__String", ",", 
      RowBox[{"___", "?", "OptionQ"}]}], "]"}], "]"}], ":=", "\n", "\t", 
   RowBox[{"!", 
    RowBox[{"MatchQ", "[", 
     RowBox[{
      RowBox[{"{", "path", "}"}], ",", "\n", "\t\t", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"\"\<repos\>\"", ",", "__"}], "}"}], "|", "\n", "\t\t", 
       RowBox[{"{", 
        RowBox[{"__", ",", 
         RowBox[{"\"\<releases\>\"", "|", "\"\<deployments\>\""}]}], "}"}], 
       "|", "\n", "\t\t", 
       RowBox[{"{", 
        RowBox[{"__", ",", 
         RowBox[{"\"\<releases\>\"", "|", "\"\<deployments\>\""}], ",", 
         "\"\<tag\>\"", ",", "___"}], "}"}]}]}], "\n", "\t\t", "]"}]}]}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{"PDgitHubRepoQ", "[", "_", "]"}], ":=", "False"}]}], "CodeInput",
 CellChangeTimes->{{3.7104278499282017`*^9, 3.7104278607867317`*^9}, 
   3.7104291116646852`*^9},ExpressionUUID->"bead3f26-1bb4-4d8e-a342-\
d8991297de55"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]gitPacletPull\[RightFloor]", "Subsubsubsection",
 CellChangeTimes->{{3.7035961456249523`*^9, 3.703596153527396*^9}, 
   3.7035996135640783`*^9, 3.703599681187086*^9, {3.703754773337569*^9, 
   3.703754774078949*^9}, 
   3.710428374335799*^9},ExpressionUUID->"e50356fe-53eb-47f0-90e1-\
9a6fc6b0e8ad"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"gitPacletPull", "[", 
    RowBox[{"loc", ":", 
     RowBox[{"(", 
      RowBox[{"_String", "|", "_URL", "|", "_File"}], ")"}]}], "]"}], ":=", 
   "\n", 
   RowBox[{"If", "[", 
    RowBox[{
     RowBox[{"StringContainsQ", "[", 
      RowBox[{
       RowBox[{"URLParse", "[", 
        RowBox[{"loc", ",", "\"\<PathString\>\""}], "]"}], ",", 
       "\"\<releases\>\""}], "]"}], ",", "\n", "\t", 
     RowBox[{"Block", "[", 
      RowBox[{
       RowBox[{"{", "\n", "\t\t\t", 
        RowBox[{"release", "=", "\n", "\t\t\t", 
         RowBox[{"SelectFirst", "[", "\n", "\t\t\t\t", 
          RowBox[{
           RowBox[{"Flatten", "@", 
            RowBox[{"{", "\n", "\t\t\t\t\t", 
             RowBox[{"Import", "[", "\n", "\t\t\t\t\t\t", 
              RowBox[{
               RowBox[{
                RowBox[{
                 RowBox[{"ReplacePart", "[", 
                  RowBox[{"#", ",", 
                   RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{
                    "\"\<Domain\>\"", "\[Rule]", "\"\<api.github.com\>\""}], 
                    ",", "\n", "\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "\"\<Path\>\"", "\[Rule]", "\n", "\t\t\t\t\t\t\t\t", 
                    RowBox[{"With", "[", 
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{"cleanpath", "=", 
                    RowBox[{"DeleteCases", "[", 
                    RowBox[{
                    RowBox[{"#", "[", "\"\<Path\>\"", "]"}], ",", 
                    "\"\<\>\""}], "]"}]}], "}"}], ",", "\n", 
                    "\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"cleanpath", "[", 
                    RowBox[{"[", "1", "]"}], "]"}], "===", "\"\<repos\>\""}], 
                    ",", "\n", "\t\t\t\t\t\t\t\t\t\t", "cleanpath", ",", "\n",
                     "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"Prepend", "[", 
                    RowBox[{"cleanpath", ",", "\"\<repos\>\""}], "]"}]}], 
                    "\n", "\t\t\t\t\t\t\t\t\t\t", "]"}]}], "\n", 
                    "\t\t\t\t\t\t\t\t\t", "]"}]}]}], "\n", "\t\t\t\t\t\t\t\t",
                     "}"}]}], "]"}], "&"}], "@", 
                RowBox[{"URLParse", "[", "loc", "]"}]}], ",", "\n", 
               "\t\t\t\t\t\t", "\"\<RawJSON\>\""}], "]"}], "}"}]}], ",", "\n",
            "\t\t\t\t", 
           RowBox[{
            RowBox[{"KeyMemberQ", "[", "\"\<assets\>\"", "]"}], "||", 
            RowBox[{"KeyMemberQ", "[", "\"\<zipball_url\>\"", "]"}]}]}], "\n",
           "\t\t\t\t", "]"}]}], "\n", "\t\t\t", "}"}], ",", "\n", "\t\t", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{"AssociationQ", "@", "release"}], ",", "\n", "\t\t\t", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"KeyMemberQ", "[", 
             RowBox[{"release", ",", "\"\<assets\>\""}], "]"}], "&&", 
            RowBox[{
             RowBox[{"Length", "@", 
              RowBox[{"release", "[", "\"\<assets\>\"", "]"}]}], ">", "0"}]}],
            ",", "\n", "\t\t\t\t", 
           RowBox[{"With", "[", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{"url", "=", "\n", "\t\t\t\t\t\t", 
               RowBox[{"release", "[", 
                RowBox[{"[", 
                 RowBox[{"\"\<assets\>\"", ",", 
                  RowBox[{"-", "1"}], ",", "\"\<browser_download_url\>\""}], 
                 "]"}], "]"}]}], "\n", "\t\t\t\t\t\t", "}"}], ",", "\n", 
             "\t\t\t\t\t", 
             RowBox[{"URLDownload", "[", 
              RowBox[{"url", ",", "\n", "\t\t\t\t\t\t", 
               RowBox[{"FileNameJoin", "@", 
                RowBox[{"{", "\n", "\t\t\t\t\t\t\t", 
                 RowBox[{"$TemporaryDirectory", ",", "\n", "\t\t\t\t\t\t\t", 
                  RowBox[{
                   RowBox[{"URLParse", "[", 
                    RowBox[{"url", ",", "\"\<Path\>\""}], "]"}], "[", 
                   RowBox[{"[", 
                    RowBox[{"-", "1"}], "]"}], "]"}]}], "\n", 
                 "\t\t\t\t\t\t\t", "}"}]}]}], "\n", "\t\t\t\t\t\t", "]"}]}], 
            "\n", "\t\t\t\t\t", "]"}], ",", "\n", "\t\t\t\t", 
           RowBox[{"ExtractArchive", "[", "\n", "\t\t\t\t\t", 
            RowBox[{
             RowBox[{"URLDownload", "[", "\n", "\t\t\t\t\t\t", 
              RowBox[{
               RowBox[{"release", "[", "\"\<zipball_url\>\"", "]"}], ",", 
               "\n", "\t\t\t\t\t\t", 
               RowBox[{"FileNameJoin", "@", 
                RowBox[{"{", "\n", "\t\t\t\t\t\t\t", 
                 RowBox[{"$TemporaryDirectory", ",", "\n", "\t\t\t\t\t\t\t", 
                  RowBox[{
                   RowBox[{"URLParse", "[", 
                    RowBox[{
                    RowBox[{"release", "[", "\"\<zipball_url\>\"", "]"}], 
                    ",", "\"\<Path\>\""}], "]"}], "[", 
                   RowBox[{"[", 
                    RowBox[{"-", "1"}], "]"}], "]"}]}], "\n", 
                 "\t\t\t\t\t\t\t", "}"}]}]}], "\n", "\t\t\t\t\t\t", "]"}], 
             ",", "\n", "\t\t\t\t\t", "$TemporaryDirectory"}], "\n", 
            "\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t", "]"}], ",", "\n", 
         "\t\t\t", "$Failed"}], "\n", "\t\t\t", "]"}]}], "\n", "\t\t", "]"}], 
     ",", "\n", "\t", 
     RowBox[{"With", "[", 
      RowBox[{
       RowBox[{"{", "\n", "\t\t\t", 
        RowBox[{"dir", "=", "\n", "\t\t\t", 
         RowBox[{"FileNameJoin", "@", 
          RowBox[{"{", "\n", "\t\t\t\t", 
           RowBox[{"$TemporaryDirectory", ",", "\n", "\t\t\t\t", 
            RowBox[{
             RowBox[{"DeleteCases", "[", 
              RowBox[{
               RowBox[{"URLParse", "[", 
                RowBox[{"loc", ",", "\"\<Path\>\""}], "]"}], ",", 
               "\"\<\>\""}], "]"}], "[", 
             RowBox[{"[", "2", "]"}], "]"}]}], "\n", "\t\t\t\t", "}"}]}]}], 
        "\n", "\t\t\t", "}"}], ",", "\n", "\t\t", 
       RowBox[{
        RowBox[{"Quiet", "[", "\n", "\t\t\t", 
         RowBox[{
          RowBox[{"DeleteDirectory", "[", 
           RowBox[{"dir", ",", 
            RowBox[{"DeleteContents", "\[Rule]", "True"}]}], "]"}], ";", "\n",
           "\t\t\t", 
          RowBox[{"CreateDirectory", "[", "dir", "]"}]}], "\n", "\t\t\t", 
         "]"}], ";", "\n", "\t\t", 
        RowBox[{"RunProcess", "[", 
         RowBox[{"{", 
          RowBox[{
          "\"\<git\>\"", ",", "\"\<clone\>\"", ",", "loc", ",", "dir"}], 
          "}"}], "]"}], ";", "\n", "\t\t", "dir"}]}], "\n", "\t\t", "]"}]}], 
    "\n", "\t", "]"}]}], ";"}]], "CodeInput",
 CellChangeTimes->{{3.703596155944116*^9, 3.7035961610907917`*^9}, {
   3.703598238943207*^9, 3.703598243413394*^9}, {3.703598329461245*^9, 
   3.703598340547501*^9}, {3.703598426349544*^9, 3.703598427210268*^9}, {
   3.703598482520464*^9, 3.7035985368633413`*^9}, {3.7035995973089743`*^9, 
   3.703599604915311*^9}, {3.7035996454347343`*^9, 3.70359968410455*^9}, {
   3.703723611526217*^9, 3.703723709607532*^9}, {3.703761700150741*^9, 
   3.703761701244952*^9}, {3.703761804552857*^9, 3.703761833591098*^9}, 
   3.705592309270794*^9, {3.705592453696089*^9, 3.705592667848733*^9}, {
   3.705592747326363*^9, 3.7055929696470747`*^9}, {3.7055930016452*^9, 
   3.705593154543199*^9}, {3.7055932336446257`*^9, 3.705593362216304*^9}, {
   3.7055934695736027`*^9, 3.705593470310925*^9}, {3.7055958904153833`*^9, 
   3.70559589137283*^9}, 3.7055969531599197`*^9, 3.710428374366918*^9, 
   3.710429111735949*^9},ExpressionUUID->"f421acd7-53f5-47f0-ae7c-\
f9abf8da8b02"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]wolframLibraryPull\[RightFloor]", "Subsubsubsection",
 CellChangeTimes->{{3.70376451939939*^9, 
  3.7037645297433167`*^9}},ExpressionUUID->"23eda98d-de07-4318-aa88-\
2c79f7c78ded"],

Cell[BoxData[
 RowBox[{
  RowBox[{"wolframLibraryPull", "[", 
   RowBox[{"loc", ":", 
    RowBox[{"_String", "|", "_URL"}]}], "]"}], ":=", "\n", 
  RowBox[{"With", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"fileURLs", "=", "\n", "\t\t", 
      RowBox[{
       RowBox[{
        RowBox[{"URLBuild", "@", "\n", "\t\t", 
         RowBox[{"Merge", "[", 
          RowBox[{
           RowBox[{"{", "\n", "\t\t\t\t", 
            RowBox[{
             RowBox[{"URLParse", "[", "loc", "]"}], ",", "\n", "\t\t\t\t", 
             RowBox[{"URLParse", "[", "#", "]"}]}], "\n", "\t\t\t\t", "}"}], 
           ",", "\n", "\t\t\t", 
           RowBox[{
            RowBox[{"Replace", "[", 
             RowBox[{
              RowBox[{"DeleteCases", "[", 
               RowBox[{"#", ",", "None"}], "]"}], ",", 
              RowBox[{"{", "\n", "\t\t\t\t\t", 
               RowBox[{
                RowBox[{
                 RowBox[{"{", "s_", "}"}], "\[RuleDelayed]", "s"}], ",", "\n",
                 "\t\t\t\t\t", 
                RowBox[{
                 RowBox[{"{", 
                  RowBox[{"___", ",", "l_"}], "}"}], "\[RuleDelayed]", "l"}], 
                ",", "\n", "\t\t\t\t\t", 
                RowBox[{
                 RowBox[{"{", "}"}], "\[Rule]", "None"}]}], "\n", 
               "\t\t\t\t\t", "}"}]}], "]"}], "&"}]}], "\n", "\t\t\t", "]"}]}],
         "&"}], "/@", "\n", "\t\t", 
       RowBox[{"Cases", "[", "\n", "\t\t\t", 
        RowBox[{
         RowBox[{"Import", "[", 
          RowBox[{"loc", ",", 
           RowBox[{"{", 
            RowBox[{"\"\<HTML\>\"", ",", "\"\<XMLObject\>\""}], "}"}]}], 
          "]"}], ",", "\n", "\t\t\t", 
         RowBox[{
          RowBox[{"XMLElement", "[", 
           RowBox[{"\"\<a\>\"", ",", "\n", "\t\t\t\t", 
            RowBox[{"{", "\n", "\t\t\t\t\t", 
             RowBox[{"___", ",", "\n", "\t\t\t\t\t", 
              RowBox[{"\"\<href\>\"", "\[Rule]", "link_"}], ",", "\n", 
              "\t\t\t\t\t", "___"}], "}"}], ",", "\n", "\t\t\t\t", 
            RowBox[{"{", 
             RowBox[{"___", ",", "\n", "\t\t\t\t\t", 
              RowBox[{"XMLElement", "[", 
               RowBox[{"\"\<img\>\"", ",", "\n", "\t\t\t\t\t\t", 
                RowBox[{"{", 
                 RowBox[{"___", ",", 
                  RowBox[{
                  "\"\<src\>\"", "\[Rule]", 
                   "\"\</images/database/download-icon.gif\>\""}], ",", 
                  "___"}], "}"}], ",", "\n", "\t\t\t\t\t\t", "_"}], "]"}], 
              ",", "\n", "\t\t\t\t\t", "___"}], "}"}]}], "\n", "\t\t\t\t", 
           "]"}], "\[RuleDelayed]", "link"}], ",", "\n", "\t\t\t", 
         "\[Infinity]"}], "\n", "\t\t\t", "]"}]}]}], "\n", "\t\t", "}"}], ",",
     "\n", "\t", 
    RowBox[{"With", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"name", "=", "\n", "\t\t\t", 
        RowBox[{"FileBaseName", "@", "\n", "\t\t\t", 
         RowBox[{"First", "@", "\n", "\t\t\t", 
          RowBox[{
           RowBox[{"SortBy", "[", "\n", "\t\t\t\t", 
            RowBox[{
             RowBox[{"Switch", "[", 
              RowBox[{
               RowBox[{"FileExtension", "[", "#", "]"}], ",", "\n", 
               "\t\t\t\t\t", "\"\<PDpaclet\>\"", ",", "\n", "\t\t\t\t\t", "0",
                ",", "\n", "\t\t\t\t\t", 
               RowBox[{"\"\<zip\>\"", "|", "\"\<gz\>\""}], ",", "\n", 
               "\t\t\t\t\t", "1", ",", "\n", "\t\t\t\t\t", 
               RowBox[{"\"\<wl\>\"", "|", "\"\<m\>\""}], ",", "\n", 
               "\t\t\t\t\t", "2", ",", "\n", "\t\t\t\t\t", "_", ",", "\n", 
               "\t\t\t\t\t", "3"}], "\n", "\t\t\t\t\t", "]"}], "&"}], "\n", 
            "\t\t\t\t", "]"}], "[", 
           RowBox[{
            RowBox[{
             RowBox[{
              RowBox[{"URLParse", "[", 
               RowBox[{"#", ",", "\"\<Path\>\""}], "]"}], "[", 
              RowBox[{"[", 
               RowBox[{"-", "1"}], "]"}], "]"}], "&"}], "/@", "fileURLs"}], 
           "]"}]}]}]}], "\n", "\t\t\t", "}"}], ",", "\n", "\t\t", 
      RowBox[{
       RowBox[{"Quiet", "@", "\n", "\t\t", 
        RowBox[{"DeleteDirectory", "[", "\n", "\t\t\t", 
         RowBox[{
          RowBox[{"FileNameJoin", "@", 
           RowBox[{"{", 
            RowBox[{"$TemporaryDirectory", ",", "name"}], "}"}]}], ",", "\n", 
          "\t\t\t", 
          RowBox[{"DeleteContents", "\[Rule]", "True"}]}], "\n", "\t\t\t", 
         "]"}]}], ";", "\n", "\t\t", 
       RowBox[{"CreateDirectory", "@", 
        RowBox[{"FileNameJoin", "@", 
         RowBox[{"{", 
          RowBox[{"$TemporaryDirectory", ",", "name"}], "}"}]}]}], ";", "\n", 
       "\t\t", 
       RowBox[{"MapThread", "[", "\n", "\t\t\t", 
        RowBox[{
         RowBox[{
          RowBox[{"RenameFile", "[", "\n", "\t\t\t\t", 
           RowBox[{"#", ",", "\n", "\t\t\t\t", 
            RowBox[{"FileNameJoin", "@", 
             RowBox[{"{", 
              RowBox[{"$TemporaryDirectory", ",", "name", ",", 
               RowBox[{
                RowBox[{"URLParse", "[", 
                 RowBox[{"#2", ",", "\"\<Path\>\""}], "]"}], "[", 
                RowBox[{"[", 
                 RowBox[{"-", "1"}], "]"}], "]"}]}], "}"}]}]}], "\n", 
           "\t\t\t\t", "]"}], "&"}], ",", 
         RowBox[{"{", "\n", "\t\t\t\t", 
          RowBox[{
           RowBox[{"URLDownload", "[", 
            RowBox[{"fileURLs", ",", "\n", "\t\t\t\t\t", 
             RowBox[{"FileNameJoin", "@", 
              RowBox[{"{", 
               RowBox[{"$TemporaryDirectory", ",", "name"}], "}"}]}]}], "]"}],
            ",", "\n", "\t\t\t\t", "fileURLs"}], "\n", "\t\t\t\t", "}"}]}], 
        "]"}], ";", "\n", "\t\t", 
       RowBox[{"FileNameJoin", "@", 
        RowBox[{"{", 
         RowBox[{"$TemporaryDirectory", ",", "name"}], "}"}]}]}]}], "\n", 
     "\t\t", "]"}]}], "\n", "\t", "]"}]}]], "CodeInput",
 CellChangeTimes->{{3.703764531655398*^9, 3.703764535752149*^9}, {
   3.703764603502018*^9, 3.703764618673449*^9}, {3.703765344935837*^9, 
   3.7037656330831003`*^9}, {3.703765698979162*^9, 3.703765764531156*^9}, {
   3.703765804278425*^9, 3.703765881593234*^9}, {3.703765930100587*^9, 
   3.703765948953369*^9}, {3.703766430827086*^9, 3.7037664459621153`*^9}, 
   3.7037664816764708`*^9, {3.7037665201374063`*^9, 3.703766523272334*^9}, 
   3.7037665696119556`*^9, {3.703766699598633*^9, 3.703766709741173*^9}, {
   3.7037667442328176`*^9, 3.703766780324774*^9}, {3.7037669636283693`*^9, 
   3.703767034427094*^9}, {3.703767072850956*^9, 3.703767082584444*^9}, 
   3.705592091687153*^9, 3.705592326611661*^9, 3.710422336257193*^9, 
   3.710429111874075*^9},ExpressionUUID->"7e1e9073-e5d1-40e6-a2d1-\
36d419db5f93"]
}, Closed]],

Cell[CellGroupData[{

Cell["\[LeftCeiling]downloadURLIfExists\[RightFloor]", "Subsubsubsection",
 CellChangeTimes->{{3.703604404614912*^9, 3.703604407485958*^9}, 
   3.7036052489502363`*^9},ExpressionUUID->"02e3f640-286b-47ed-b308-\
50cb75ac71ec"],

Cell[BoxData[
 RowBox[{
  RowBox[{"downloadURLIfExists", "[", 
   RowBox[{"urlBase_", ",", 
    RowBox[{"{", "files__", "}"}], ",", "dir_"}], "]"}], ":=", "\n", 
  RowBox[{
   RowBox[{
    RowBox[{"If", "[", "\n", "\t", 
     RowBox[{
      RowBox[{
       RowBox[{"MatchQ", "[", 
        RowBox[{"0", "|", "200"}], "]"}], "@", "\n", "\t", 
       RowBox[{"URLSave", "[", "\n", "\t\t", 
        RowBox[{
         RowBox[{"URLBuild", "@", 
          RowBox[{"{", 
           RowBox[{"urlBase", ",", "#"}], "}"}]}], ",", "\n", "\t\t", 
         RowBox[{"FileNameJoin", "@", 
          RowBox[{"{", "\n", "\t\t\t", 
           RowBox[{"dir", ",", "\n", "\t\t\t", "#"}], "\n", "\t\t\t", "}"}]}],
          ",", "\n", "\t\t", "\"\<StatusCode\>\""}], "\n", "\t\t", "]"}]}], 
      ",", "\n", "\t", 
      RowBox[{"FileNameJoin", "@", 
       RowBox[{"{", "\n", "\t\t", 
        RowBox[{"dir", ",", "\n", "\t\t", "#"}], "\n", "\t\t", "}"}]}], ",", 
      "\n", "\t", 
      RowBox[{
       RowBox[{"Quiet", "@", "\n", "\t", 
        RowBox[{"DeleteFile", "@", "\n", "\t", 
         RowBox[{"FileNameJoin", "@", 
          RowBox[{"{", "\n", "\t\t", 
           RowBox[{"dir", ",", "\n", "\t\t", "#"}], "\n", "\t\t", "}"}]}]}]}],
        ";", "\n", "\t", "Nothing"}]}], "\n", "\t", "]"}], "&"}], "/@", 
   RowBox[{"{", "files", "}"}]}]}]], "CodeInput",
 CellChangeTimes->{{3.703604474512422*^9, 3.703604533541312*^9}, {
   3.703604590595153*^9, 3.703604623579116*^9}, {3.703604716113121*^9, 
   3.703604906079907*^9}, {3.7036050306407557`*^9, 3.703605084180829*^9}, {
   3.703605125991049*^9, 3.703605250636724*^9}, 3.7037666379439697`*^9, 
   3.70559206245434*^9, 
   3.710429111978451*^9},ExpressionUUID->"3a2283ef-113e-4a2d-992b-\
90329e7f5016"]
}, Closed]],

Cell[CellGroupData[{

Cell["PDInstallPaclet", "Subsubsubsection",
 CellChangeTimes->{{3.705592073060073*^9, 3.705592074201292*^9}, 
   3.7104283744287043`*^9},ExpressionUUID->"65b3ca78-9bbf-48c1-ab94-\
87cdab7b6890"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "PDInstallPaclet", "]"}], "=", "\n", 
   RowBox[{"{", "\n", "\t", 
    RowBox[{
     RowBox[{"\"\<Verbose\>\"", "\[Rule]", "True"}], ",", "\n", "\t", 
     RowBox[{"\"\<InstallSite\>\"", "\[Rule]", "True"}], ",", "\n", "\t", 
     RowBox[{"\"\<InstallDependencies\>\"", "->", "\n", "\t", "Automatic"}], 
     ",", "\n", "\t", 
     RowBox[{"\"\<Log\>\"", "\[Rule]", "True"}]}], "\n", "\t", "}"}]}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PDInstallPaclet", "[", "\n", "\t", 
    RowBox[{
     RowBox[{"loc", ":", 
      RowBox[{
       RowBox[{"(", 
        RowBox[{"_String", "|", "_File"}], ")"}], "?", "FileExistsQ"}]}], ",",
      "\n", "\t", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "\n", "\t", "]"}], ":=", "\n", 
   RowBox[{"Replace", "[", "\n", "\t", 
    RowBox[{
     RowBox[{"installPacletGenerate", "[", 
      RowBox[{"loc", ",", "ops"}], "]"}], ",", 
     RowBox[{"{", "\n", "\t\t", 
      RowBox[{
       RowBox[{
        RowBox[{"File", "[", "f_", "]"}], "|", 
        RowBox[{"(", 
         RowBox[{"f_String", "?", "FileExistsQ"}], ")"}]}], ":>", "\n", 
       "\t\t", 
       RowBox[{"Replace", "[", 
        RowBox[{
         RowBox[{"PacletManager`PacletInstall", "@", "f"}], ",", "\n", 
         "\t\t\t", 
         RowBox[{"p_PacletManager`Paclet", "\[RuleDelayed]", "\n", "\t\t\t", 
          RowBox[{"With", "[", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"deps", "=", "\n", "\t\t\t\t\t", 
              RowBox[{"Replace", "[", 
               RowBox[{
                RowBox[{
                "OptionValue", "[", "\"\<InstallDependencies\>\"", "]"}], ",", 
                RowBox[{"{", "\n", "\t\t\t\t\t\t\t", 
                 RowBox[{
                  RowBox[{"Automatic", "\[Rule]", 
                   RowBox[{"{", "\"\<Standard\>\"", "}"}]}], ",", "\n", 
                  "\t\t\t\t\t\t\t", 
                  RowBox[{"True", "\[Rule]", "All"}]}], "\n", 
                 "\t\t\t\t\t\t\t", "}"}]}], "]"}]}], "\n", "\t\t\t\t\t", 
             "}"}], ",", "\n", "\t\t\t\t", 
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{"MatchQ", "[", 
               RowBox[{"deps", ",", 
                RowBox[{"_List", "|", "All"}]}], "]"}], ",", "\n", 
              "\t\t\t\t\t", 
              RowBox[{"Flatten", "@", 
               RowBox[{"{", "\n", "\t\t\t\t\t\t", 
                RowBox[{"p", ",", "\n", "\t\t\t\t\t\t", 
                 RowBox[{"With", "[", 
                  RowBox[{
                   RowBox[{"{", 
                    RowBox[{"l", "=", 
                    RowBox[{"PDpacletLookup", "[", 
                    RowBox[{"p", ",", "\"\<Location\>\""}], "]"}]}], "}"}], 
                   ",", "\n", "\t\t\t\t\t\t\t", 
                   RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{"FileExistsQ", "@", 
                    RowBox[{"FileNameJoin", "@", 
                    RowBox[{"{", 
                    RowBox[{"l", ",", "\"\<DependencyInfo.m\>\""}], "}"}]}]}],
                     ",", "\n", "\t\t\t\t\t\t\t\t", 
                    RowBox[{"Replace", "[", 
                    RowBox[{
                    RowBox[{"Import", "[", "\"\<DependencyInfo.m\>\"", "]"}], 
                    ",", 
                    RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{
                    "a_Association", ":>", "\n", "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"Switch", "[", 
                    RowBox[{
                    "deps", ",", "\n", "\t\t\t\t\t\t\t\t\t\t\t", "All", ",", 
                    "\n", "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"Flatten", "@", "\n", "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"Map", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"Map", "[", 
                    RowBox[{"PDInstallPaclet", ",", "#"}], "]"}], "&"}], ",", 
                    "a"}], "]"}]}], ",", "\n", "\t\t\t\t\t\t\t\t\t\t\t", "_", 
                    ",", "\n", "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"Flatten", "@", "\n", "\t\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"Map", "[", 
                    RowBox[{
                    "PDInstallPaclet", ",", "\n", "\t\t\t\t\t\t\t\t\t\t\t\t", 
                    
                    RowBox[{"Flatten", "@", 
                    RowBox[{"Lookup", "[", 
                    RowBox[{"a", ",", "deps", ",", 
                    RowBox[{"{", "}"}]}], "]"}]}]}], "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t\t", "]"}]}]}], "\n", 
                    "\t\t\t\t\t\t\t\t\t\t\t", "]"}]}], ",", "\n", 
                    "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"l_List", ":>", "\n", "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{"Map", "[", 
                    RowBox[{"PDInstallPaclet", ",", "l"}], "]"}]}]}], "\n", 
                    "\t\t\t\t\t\t\t\t\t\t", "}"}]}], "]"}], ",", "\n", 
                    "\t\t\t\t\t\t\t\t", 
                    RowBox[{"{", "}"}]}], "\n", "\t\t\t\t\t\t\t\t", "]"}]}], 
                  "\n", "\t\t\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t\t\t", 
                "}"}]}], ",", "\n", "\t\t\t\t\t", "p"}], "\n", "\t\t\t\t\t", 
             "]"}]}], "\n", "\t\t\t\t", "]"}]}]}], "\n", "\t\t\t", "]"}]}], 
      "\n", "\t\t", "}"}]}], "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"PDInstallPaclet", "[", "\n", "\t", 
    RowBox[{
     RowBox[{"loc", ":", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"_String", "?", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{
            RowBox[{"URLParse", "[", 
             RowBox[{"#", ",", "\"\<Scheme\>\""}], "]"}], "=!=", "None"}], 
           "&"}], ")"}]}], "|", "_URL"}], ")"}]}], ",", "\n", "\t", 
     RowBox[{"ops", ":", 
      RowBox[{"OptionsPattern", "[", "]"}]}]}], "\n", "\t", "]"}], ":=", "\n", 
   RowBox[{"Which", "[", "\n", "\t", 
    RowBox[{
     RowBox[{
      RowBox[{"URLParse", "[", 
       RowBox[{"loc", ",", "\"\<Domain\>\""}], "]"}], "===", 
      "\"\<github.com\>\""}], ",", "\n", "\t", 
     RowBox[{"With", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"dir", "=", "\n", "\t\t\t", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"OptionValue", "@", "\"\<Verbose\>\""}], "//", "TrueQ"}], 
           ",", "\n", "\t\t\t\t", 
           RowBox[{"Monitor", "[", "\n", "\t\t\t\t\t", 
            RowBox[{
             RowBox[{"gitPacletPull", "[", "loc", "]"}], ",", "\n", 
             "\t\t\t\t\t", 
             RowBox[{"Which", "[", 
              RowBox[{
               RowBox[{"PDgitHubRepoQ", "@", "loc"}], ",", "\n", 
               "\t\t\t\t\t\t", 
               RowBox[{"Internal`LoadingPanel", "[", "\n", "\t\t\t\t\t\t\t", 
                RowBox[{"TemplateApply", "[", 
                 RowBox[{"\"\<Cloning repository at ``\>\"", ",", "loc"}], 
                 "]"}], "\n", "\t\t\t\t\t\t\t", "]"}], ",", "\n", 
               "\t\t\t\t\t\t", 
               RowBox[{"PDgitHubReleaseQ", "@", "loc"}], ",", "\n", 
               "\t\t\t\t\t\t", 
               RowBox[{"Internal`LoadingPanel", "[", "\n", "\t\t\t\t\t\t\t", 
                RowBox[{"TemplateApply", "[", 
                 RowBox[{"\"\<Pulling release at ``\>\"", ",", "loc"}], "]"}],
                 "\n", "\t\t\t\t\t\t\t", "]"}], ",", "\n", "\t\t\t\t\t\t", 
               "True", ",", "\n", "\t\t\t\t\t\t", 
               RowBox[{"Internal`LoadingPanel", "[", "\n", "\t\t\t\t\t\t\t", 
                RowBox[{"TemplateApply", "[", 
                 RowBox[{"\"\<Downloading from ``\>\"", ",", "loc"}], "]"}], 
                "\n", "\t\t\t\t\t\t\t", "]"}]}], "\n", "\t\t\t\t\t\t", 
              "]"}]}], "\n", "\t\t\t\t\t", "]"}], ",", "\n", "\t\t\t\t", 
           RowBox[{"gitPacletPull", "[", "loc", "]"}]}], "\n", "\t\t\t\t", 
          "]"}]}], "\n", "\t\t\t", "}"}], ",", "\n", "\t\t", 
       RowBox[{"PDInstallPaclet", "@", "dir"}]}], "\n", "\t\t", "]"}], ",", 
     "\n", "\t", 
     RowBox[{
      RowBox[{"URLParse", "[", 
       RowBox[{"loc", ",", "\"\<Domain\>\""}], "]"}], "===", 
      "\"\<library.wolfram.com\>\""}], ",", "\n", "\t", 
     RowBox[{"With", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"dir", "=", "\n", "\t\t\t", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"OptionValue", "@", "\"\<Verbose\>\""}], "//", "TrueQ"}], 
           ",", "\n", "\t\t\t\t", 
           RowBox[{"Monitor", "[", "\n", "\t\t\t\t\t", 
            RowBox[{
             RowBox[{"wolframLibraryPull", "[", "loc", "]"}], ",", "\n", 
             "\t\t\t\t\t", 
             RowBox[{"Internal`LoadingPanel", "[", "\n", "\t\t\t\t\t\t", 
              RowBox[{"TemplateApply", "[", 
               RowBox[{
               "\"\<Downloading from library.wolfram.com ``\>\"", ",", 
                "loc"}], "]"}], "\n", "\t\t\t\t\t\t", "]"}]}], "\n", 
            "\t\t\t\t\t", "]"}], ",", "\n", "\t\t\t\t", 
           RowBox[{"gitPacletPull", "[", "loc", "]"}]}], "\n", "\t\t\t\t", 
          "]"}]}], "\n", "\t\t\t", "}"}], ",", "\n", "\t\t", 
       RowBox[{"PDInstallPaclet", "@", "dir"}]}], "\n", "\t\t", "]"}], ",", 
     "\n", "\t", "True", ",", "\n", "\t", 
     RowBox[{"If", "[", "\n", "\t\t", 
      RowBox[{
       RowBox[{"And", "[", "\n", "\t\t\t", 
        RowBox[{
         RowBox[{
          RowBox[{"OptionValue", "[", "\"\<InstallSite\>\"", "]"}], "//", 
          "TrueQ"}], ",", "\n", "\t\t\t", 
         RowBox[{"MatchQ", "[", "\n", "\t\t\t\t", 
          RowBox[{
           RowBox[{"Quiet", "@", 
            RowBox[{"PDpacletSiteInfo", "[", "loc", "]"}]}], ",", "\n", 
           "\t\t\t\t", 
           RowBox[{
           "PacletManager`PacletSite", "[", "__PacletManager`Paclet", "]"}]}],
           "\n", "\t\t\t\t", "]"}]}], "\n", "\t\t\t", "]"}], ",", "\n", 
       "\t\t", 
       RowBox[{"PDpacletSiteInstall", "[", "loc", "]"}], ",", "\n", "\t\t", 
       RowBox[{"Switch", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"URLParse", "[", 
           RowBox[{"loc", ",", "\"\<Path\>\""}], "]"}], "[", 
          RowBox[{"[", 
           RowBox[{"-", "1"}], "]"}], "]"}], ",", "\n", "\t\t\t", 
         RowBox[{"_", "?", 
          RowBox[{"(", 
           RowBox[{
            RowBox[{
             RowBox[{"FileExtension", "[", "#", "]"}], "\[Equal]", 
             "\"\<PDpaclet\>\""}], "&"}], ")"}]}], ",", "\n", "\t\t\t", 
         RowBox[{"PDInstallPaclet", "@", 
          RowBox[{"URLDownload", "[", "loc", "]"}]}], ",", "\n", "\t\t\t", 
         RowBox[{"_", "?", 
          RowBox[{"(", 
           RowBox[{
            RowBox[{"MatchQ", "[", 
             RowBox[{
              RowBox[{"FileExtension", "[", "#", "]"}], ",", 
              RowBox[{"\"\<m\>\"", "|", "\"\<wl\>\""}]}], "]"}], "&"}], 
           ")"}]}], ",", "\n", "\t\t\t", 
         RowBox[{"PDInstallPaclet", "@", "\n", "\t\t\t", 
          RowBox[{"downloadURLIfExists", "[", "\n", "\t\t\t\t", 
           RowBox[{
            RowBox[{"URLBuild", "[", "\n", "\t\t\t\t\t", 
             RowBox[{
              RowBox[{
               RowBox[{"ReplacePart", "[", 
                RowBox[{"#", ",", "\n", "\t\t\t\t\t\t", 
                 RowBox[{"\"\<Path\>\"", "->", "\n", "\t\t\t\t\t\t", 
                  RowBox[{"Drop", "[", 
                   RowBox[{"#Path", ",", 
                    RowBox[{"-", "1"}]}], "]"}]}]}], "\n", "\t\t\t\t\t\t", 
                "]"}], "&"}], "@", 
              RowBox[{"URLParse", "[", "loc", "]"}]}], "\n", "\t\t\t\t\t", 
             "]"}], ",", 
            RowBox[{"{", "\n", "\t\t\t\t\t", 
             RowBox[{
              RowBox[{
               RowBox[{"URLParse", "[", 
                RowBox[{"loc", ",", "\"\<Path\>\""}], "]"}], "[", 
               RowBox[{"[", 
                RowBox[{"-", "1"}], "]"}], "]"}], ",", "\n", "\t\t\t\t\t", 
              "\"\<DependencyInfo.m\>\"", ",", "\n", "\t\t\t\t\t", 
              "\"\<PacletInfo.m\>\""}], "\n", "\t\t\t\t\t", "}"}]}], "]"}]}], 
         ",", "\n", "\t\t\t", "_", ",", "\n", "\t\t\t", 
         RowBox[{"Replace", "[", "\n", "\t\t\t\t", 
          RowBox[{
           RowBox[{"Quiet", "@", 
            RowBox[{"Normal", "@", 
             RowBox[{"PDpacletSiteInfoDataset", "[", "loc", "]"}]}]}], ",", 
           RowBox[{"{", "\n", "\t\t\t\t\t", 
            RowBox[{
             RowBox[{
              RowBox[{"Except", "[", 
               RowBox[{"{", "__Association", "}"}], "]"}], ":>", "\n", 
              "\t\t\t\t\t", 
              RowBox[{"(", "\n", "\t\t\t\t\t\t", 
               RowBox[{
                RowBox[{"Message", "[", 
                 RowBox[{
                  RowBox[{"PDInstallPaclet", "::", "nopac"}], ",", "loc"}], 
                 "]"}], ";", "\n", "\t\t\t\t\t\t", "$Failed"}], "\n", 
               "\t\t\t\t\t\t", ")"}]}], ",", "\n", "\t\t\t\t\t", 
             RowBox[{
              RowBox[{"a", ":", 
               RowBox[{"{", "__Association", "}"}]}], ":>", "\n", 
              "\t\t\t\t\t", 
              RowBox[{"PDInstallPaclet", "[", "\n", "\t\t\t\t\t\t", 
               RowBox[{
                RowBox[{"URLBuild", "@", "\n", "\t\t\t\t\t\t", 
                 RowBox[{"Flatten", "@", 
                  RowBox[{"{", "\n", "\t\t\t\t\t\t\t", 
                   RowBox[{"loc", ",", "\n", "\t\t\t\t\t\t\t", 
                    RowBox[{"StringJoin", "@", 
                    RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    RowBox[{"Lookup", "[", 
                    RowBox[{
                    RowBox[{"Last", "@", 
                    RowBox[{"SortBy", "[", 
                    RowBox[{"a", ",", 
                    RowBox[{"#Version", "&"}]}], "]"}]}], ",", 
                    RowBox[{"{", "\n", "\t\t\t\t\t\t\t\t\t\t", 
                    RowBox[{
                    "\"\<Name\>\"", ",", "\n", "\t\t\t\t\t\t\t\t\t\t", 
                    "\"\<Version\>\""}], "\n", "\t\t\t\t\t\t\t\t\t\t", 
                    "}"}]}], "]"}], ",", "\n", "\t\t\t\t\t\t\t\t", 
                    "\"\<.paclet\>\""}], "\n", "\t\t\t\t\t\t\t\t", "}"}]}]}], 
                   "\n", "\t\t\t\t\t\t\t", "}"}]}]}], ",", "\n", 
                "\t\t\t\t\t\t", "ops"}], "\n", "\t\t\t\t\t\t", "]"}]}]}], 
            "\n", "\t\t\t\t\t", "}"}]}], "]"}]}], "\n", "\t\t\t", "]"}]}], 
      "\n", "\t\t", "]"}]}], "\n", "\t", "]"}]}], ";"}]}], "CodeInput",
 CellChangeTimes->{{3.703610257864366*^9, 3.703610284762755*^9}, {
   3.70361031697764*^9, 3.7036106094299097`*^9}, {3.703610758195181*^9, 
   3.703610784894918*^9}, {3.703610832973905*^9, 3.703610869579638*^9}, {
   3.703610903650784*^9, 3.703610935519359*^9}, {3.7036109820639267`*^9, 
   3.703610983168962*^9}, {3.703754779423195*^9, 3.7037547803418303`*^9}, {
   3.703761710264723*^9, 3.703761730644144*^9}, {3.703762039181884*^9, 
   3.703762095574305*^9}, {3.703762179649733*^9, 3.703762221899228*^9}, {
   3.703766155517048*^9, 3.703766219486938*^9}, {3.703766275898677*^9, 
   3.7037663177375383`*^9}, {3.703768412948471*^9, 3.703768413162756*^9}, {
   3.704037503588153*^9, 3.7040375452276907`*^9}, {3.704052671723774*^9, 
   3.70405268796906*^9}, {3.7040532364966087`*^9, 3.704053245730219*^9}, {
   3.704053276250386*^9, 3.704053300774206*^9}, {3.704053331484006*^9, 
   3.7040533609392014`*^9}, 3.7040535836354*^9, {3.7040536658691597`*^9, 
   3.7040536659364862`*^9}, {3.704053717173848*^9, 3.7040537189405403`*^9}, {
   3.704053819969377*^9, 3.704053913284136*^9}, {3.704053944552709*^9, 
   3.7040539816179543`*^9}, 3.704054854793292*^9, {3.704055143934661*^9, 
   3.704055149735464*^9}, 3.704055228623261*^9, {3.704055357993849*^9, 
   3.7040553594487123`*^9}, {3.705590024238639*^9, 3.7055900243081913`*^9}, {
   3.705590139525435*^9, 3.705590139597629*^9}, {3.705591557267638*^9, 
   3.705591562869088*^9}, 3.7055916019940977`*^9, {3.705591997846665*^9, 
   3.705592011322154*^9}, {3.7055924068408012`*^9, 3.705592406852414*^9}, {
   3.7104223362756844`*^9, 3.7104223362812634`*^9}, {3.7104277762139463`*^9, 
   3.710427791738995*^9}, {3.7104283731828957`*^9, 3.710428395751392*^9}, {
   3.710428497843566*^9, 3.7104285259434443`*^9}, 3.71042911223337*^9, {
   3.710429262848666*^9, 
   3.7104292630043163`*^9}},ExpressionUUID->"aa6e3411-421d-44d8-b802-\
9c14f3ddb40a"]
}, Open  ]]
}, Open  ]],

Cell[BoxData[
 RowBox[{
  RowBox[{"End", "[", "]"}], 
  ";"}]], "InputSection",ExpressionUUID->"a630a26d-8d8e-4b74-a6f1-\
93461856e42a"]
}, Open  ]],

Cell["", "SectionSeparator",ExpressionUUID->"887d5134-c53a-45f2-bba4-\
49877ba3adea"]
},
WindowSize->{808, 755},
WindowMargins->{{28, Automatic}, {36, Automatic}},
FrontEndVersion->"11.1 for Mac OS X x86 (32-bit, 64-bit Kernel) (April 27, \
2017)",
StyleDefinitions->FrontEnd`FileName[{"BTools"}, "CodePackage.nb", 
  CharacterEncoding -> "UTF-8"]
]

